{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///E:/Project/Educational%20Platform%20Design/my-lms-project/src/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n\r\nif (!supabaseUrl || !supabaseAnonKey) {\r\n  console.error(\"Supabase environment variables are missing!\");\r\n}\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey)"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEN;;AAIO,MAAM,WAAW,IAAA,sNAAY,EAAC,aAAa"}},
    {"offset": {"line": 25, "column": 0}, "map": {"version":3,"sources":["file:///E:/Project/Educational%20Platform%20Design/my-lms-project/src/app/components/ui/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,8LAAO,EAAC,IAAA,qKAAI,EAAC;AACtB"}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///E:/Project/Educational%20Platform%20Design/my-lms-project/src/app/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"./utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9 rounded-md\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean;\n  }) {\n  const Comp = asChild ? Slot : \"button\";\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  );\n}\n\nexport { Button, buttonVariants };\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,+LAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,gMAAI,GAAG;IAE9B,qBACE,sQAAC;QACC,aAAU;QACV,WAAW,IAAA,qKAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file:///E:/Project/Educational%20Platform%20Design/my-lms-project/src/app/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"./utils\";\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <h4\n      data-slot=\"card-title\"\n      className={cn(\"leading-none\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <p\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6 [&:last-child]:pb-6\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 pb-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  );\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,sQAAC;QACC,aAAU;QACV,WAAW,IAAA,qKAAE,EACX,sEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,sQAAC;QACC,aAAU;QACV,WAAW,IAAA,qKAAE,EACX,mKACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,sQAAC;QACC,aAAU;QACV,WAAW,IAAA,qKAAE,EAAC,gBAAgB;QAC7B,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,sQAAC;QACC,aAAU;QACV,WAAW,IAAA,qKAAE,EAAC,yBAAyB;QACtC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,sQAAC;QACC,aAAU;QACV,WAAW,IAAA,qKAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,sQAAC;QACC,aAAU;QACV,WAAW,IAAA,qKAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,sQAAC;QACC,aAAU;QACV,WAAW,IAAA,qKAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 199, "column": 0}, "map": {"version":3,"sources":["file:///E:/Project/Educational%20Platform%20Design/my-lms-project/src/app/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"./utils\";\n\nconst badgeVariants = cva(\n  \"inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\n        destructive:\n          \"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n);\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"span\"> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"span\";\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  );\n}\n\nexport { Badge, badgeVariants };\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,+LAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,gMAAI,GAAG;IAE9B,qBACE,sQAAC;QACC,aAAU;QACV,WAAW,IAAA,qKAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 245, "column": 0}, "map": {"version":3,"sources":["file:///E:/Project/Educational%20Platform%20Design/my-lms-project/src/app/components/figma/ImageWithFallback.tsx"],"sourcesContent":["import React, { useState } from 'react'\n\nconst ERROR_IMG_SRC =\n  'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg=='\n\nexport function ImageWithFallback(props: React.ImgHTMLAttributes<HTMLImageElement>) {\n  const [didError, setDidError] = useState(false)\n\n  const handleError = () => {\n    setDidError(true)\n  }\n\n  const { src, alt, style, className, ...rest } = props\n\n  return didError ? (\n    <div\n      className={`inline-block bg-gray-100 text-center align-middle ${className ?? ''}`}\n      style={style}\n    >\n      <div className=\"flex items-center justify-center w-full h-full\">\n        <img src={ERROR_IMG_SRC} alt=\"Error loading image\" {...rest} data-original-url={src} />\n      </div>\n    </div>\n  ) : (\n    <img src={src} alt={alt} className={className} style={style} {...rest} onError={handleError} />\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,MAAM,gBACJ;AAEK,SAAS,kBAAkB,KAAgD;IAChF,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yOAAQ,EAAC;IAEzC,MAAM,cAAc;QAClB,YAAY;IACd;IAEA,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE,SAAS,EAAE,GAAG,MAAM,GAAG;IAEhD,OAAO,yBACL,sQAAC;QACC,WAAW,CAAC,kDAAkD,EAAE,aAAa,IAAI;QACjF,OAAO;kBAEP,cAAA,sQAAC;YAAI,WAAU;sBACb,cAAA,sQAAC;gBAAI,KAAK;gBAAe,KAAI;gBAAuB,GAAG,IAAI;gBAAE,qBAAmB;;;;;;;;;;;;;;;6BAIpF,sQAAC;QAAI,KAAK;QAAK,KAAK;QAAK,WAAW;QAAW,OAAO;QAAQ,GAAG,IAAI;QAAE,SAAS;;;;;;AAEpF"}},
    {"offset": {"line": 301, "column": 0}, "map": {"version":3,"sources":["file:///E:/Project/Educational%20Platform%20Design/my-lms-project/src/app/components/ui/dialog.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\nimport { XIcon } from \"lucide-react\";\n\nimport { cn } from \"./utils\";\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />;\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />;\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />;\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />;\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DialogContent({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content>) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\",\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        <DialogPrimitive.Close className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\">\n          <XIcon />\n          <span className=\"sr-only\">Close</span>\n        </DialogPrimitive.Close>\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  );\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn(\"text-lg leading-none font-semibold\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  );\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,sQAAC,kMAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;AAEA,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,sQAAC,qMAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;AAEA,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,sQAAC,oMAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,sQAAC,mMAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACkD;IACrD,qBACE,sQAAC,qMAAuB;QACtB,aAAU;QACV,WAAW,IAAA,qKAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,GAAG,OACkD;IACrD,qBACE,sQAAC;QAAa,aAAU;;0BACtB,sQAAC;;;;;0BACD,sQAAC,qMAAuB;gBACtB,aAAU;gBACV,WAAW,IAAA,qKAAE,EACX,+WACA;gBAED,GAAG,KAAK;;oBAER;kCACD,sQAAC,mMAAqB;wBAAC,WAAU;;0CAC/B,sQAAC,iOAAK;;;;;0CACN,sQAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKpC;AAEA,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,sQAAC;QACC,aAAU;QACV,WAAW,IAAA,qKAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,sQAAC;QACC,aAAU;QACV,WAAW,IAAA,qKAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,sQAAC,mMAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qKAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,sQAAC,yMAA2B;QAC1B,aAAU;QACV,WAAW,IAAA,qKAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 482, "column": 0}, "map": {"version":3,"sources":["file:///E:/Project/Educational%20Platform%20Design/my-lms-project/src/app/components/PublicHomepage.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { supabase } from \"@/lib/supabase\";\nimport { Button } from \"./ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"./ui/card\";\nimport { Badge } from \"./ui/badge\";\nimport { ImageWithFallback } from \"./figma/ImageWithFallback\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n} from \"./ui/dialog\";\n\n// Icons\nimport { \n  Calendar, \n  MapPin, \n  Trophy, \n  School, \n  LogIn, \n  Facebook, \n  Youtube, \n  Instagram, \n  Star, \n  Bell,\n  Clock,\n  Images,\n  Zap,\n  Quote,\n  Target,\n  BrainCircuit,\n  Linkedin,\n  ChevronRight,\n  ArrowUpRight,\n  Mail,\n  Phone,\n  MessageSquare\n} from \"lucide-react\";\n\nexport function PublicHomepage({ onNavigate }: { onNavigate: (page: string) => void }) {\n  const [classes, setClasses] = useState<any[]>([]);\n  const [notices, setNotices] = useState<any[]>([]);\n  const [galleries, setGalleries] = useState<any[]>([]); \n  const [selectedGallery, setSelectedGallery] = useState<any>(null);\n  const [selectedClassId, setSelectedClassId] = useState<number | null>(null);\n  const [topStudents, setTopStudents] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchInitialData();\n  }, []);\n\n  useEffect(() => {\n    if (selectedClassId) fetchRanks(selectedClassId);\n  }, [selectedClassId]);\n\n  async function fetchInitialData() {\n    setLoading(true);\n    try {\n      // Fetch Classes\n      const { data: classData } = await supabase.from('classes').select('*').order('year', { ascending: false });\n      if (classData && classData.length > 0) {\n        setClasses(classData);\n        setSelectedClassId(classData[0].id);\n      }\n      \n      // Fetch Public Notices\n      const { data: noticeData } = await supabase.from('notices').select('*').eq('publish_homepage', true).order('created_at', { ascending: false });\n      if (noticeData) setNotices(noticeData);\n      \n      // Fetch Galleries\n      const { data: galleryData } = await supabase.from('galleries').select('*').order('created_at', { ascending: false });\n      if (galleryData) setGalleries(galleryData);\n      \n    } catch (error) {\n      console.error(\"Fetch error:\", error);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  async function fetchRanks(classId: number) {\n    try {\n      const { data } = await supabase\n        .from('exam_results')\n        .select('*')\n        .eq('class_id', classId)\n        .eq('is_public', true)\n        .order('marks', { ascending: false });\n        \n      if (data) {\n        // Keep only the highest mark for each student in the list\n        const uniqueLatest = data.filter((item, index, self) => \n            index === self.findIndex((t) => t.student_id === item.student_id)\n        );\n        setTopStudents(uniqueLatest.slice(0, 10));\n      }\n    } catch (error) {\n      console.error(\"Rank fetch error:\", error);\n    }\n  }\n\n  if (loading) return (\n    <div className=\"h-screen w-full flex flex-col items-center justify-center bg-white\">\n        <Zap className=\"size-12 text-teal-600 animate-pulse mb-4\" />\n        <p className=\"font-black uppercase tracking-[0.3em] text-[10px] text-slate-400 italic\">Initializing Portal...</p>\n    </div>\n  );\n\n  return (\n    <div className=\"min-h-screen bg-[#FAFBFC] text-slate-900 selection:bg-teal-100\">\n      {/* Navigation */}\n      <nav className=\"fixed top-0 w-full z-50 bg-white/90 backdrop-blur-md border-b border-slate-100 px-6 py-4 flex justify-between items-center shadow-sm\">\n        <div className=\"flex items-center gap-3\">\n          <img src=\"/logo.png\" alt=\"Logic Logo\" className=\"h-10 w-auto object-contain\" />\n          <div className=\"flex flex-col\">\n            <h2 className=\"text-base font-black text-slate-800 tracking-tighter uppercase italic leading-none\">Logic with Dilshan</h2>\n            <span className=\"text-[7px] font-bold text-teal-600 uppercase tracking-widest mt-1 italic\">Authorized Educational Platform</span>\n          </div>\n        </div>\n        <div className=\"flex gap-2\">\n          <Button variant=\"ghost\" onClick={() => onNavigate('student')} className=\"font-bold text-slate-600 hover:bg-slate-50 rounded-xl px-5 text-xs uppercase tracking-widest transition-all\">\n            Student Login\n          </Button>\n          {/* UPDATED: Navigates to Admin Login Gateway */}\n          <Button onClick={() => onNavigate('admin-login')} className=\"bg-slate-900 hover:bg-black text-white font-bold rounded-xl px-6 text-xs uppercase tracking-widest shadow-md\">\n            Staff Portal\n          </Button>\n        </div>\n      </nav>\n\n      {/* Hero Section */}\n      <section className=\"pt-48 pb-24 px-6 bg-white overflow-hidden relative border-b border-slate-100\">\n        <div className=\"max-w-7xl mx-auto grid md:grid-cols-2 gap-16 items-center relative z-10\">\n          <div className=\"space-y-8 animate-in fade-in slide-in-from-left-8 duration-700\">\n            <div className=\"flex items-center gap-3\">\n                <div className=\"h-px w-10 bg-teal-500\"></div>\n                <span className=\"text-teal-600 font-black uppercase tracking-[0.3em] text-[10px]\">Enrollment 2026 Open</span>\n            </div>\n            <h1 className=\"text-7xl md:text-8xl font-black leading-[0.85] tracking-tighter uppercase italic text-slate-900\">\n               Master Your <br/> <span className=\"text-teal-600\">Mind.</span>\n            </h1>\n            <p className=\"text-xl text-slate-500 leading-relaxed font-medium max-w-md italic\">\n              \"Logic is not just a subject, but a way of thinking, questioning, and discovering the world.\"\n            </p>\n            <div className=\"flex flex-wrap gap-4 pt-4\">\n               <Button size=\"lg\" className=\"bg-slate-900 hover:bg-black text-white rounded-2xl px-12 font-black uppercase text-xs h-16 shadow-2xl active:scale-95 transition-all\" onClick={() => onNavigate('student')}>Begin Journey</Button>\n               <a href=\"https://wa.me/94770224060\" target=\"_blank\" rel=\"noreferrer\">\n                <Button size=\"lg\" variant=\"outline\" className=\"rounded-2xl px-10 border-slate-200 text-slate-600 h-16 font-black uppercase text-xs hover:bg-slate-50 transition-all flex gap-2 items-center\">\n                    <MessageSquare size={16} /> WhatsApp\n                </Button>\n               </a>\n            </div>\n          </div>\n          <div className=\"relative group animate-in fade-in slide-in-from-right-8 duration-1000\">\n             <div className=\"absolute -inset-1 bg-teal-500/10 rounded-[4rem] blur-2xl opacity-50\"></div>\n             <ImageWithFallback \n                src=\"/teacher-dilshan.jpg\" \n                alt=\"Dilshan Uthpala\" \n                className=\"rounded-[3.5rem] border-[12px] border-white shadow-2xl relative z-10 grayscale hover:grayscale-0 transition-all duration-700 aspect-[4/5] object-cover\" \n             />\n          </div>\n        </div>\n      </section>\n\n      {/* About Us & Mission */}\n      <section className=\"py-32 px-6 max-w-7xl mx-auto\">\n        <div className=\"grid md:grid-cols-2 gap-24 items-start\">\n            <div className=\"space-y-10\">\n                <div className=\"space-y-4\">\n                    <h2 className=\"text-xs font-black uppercase tracking-[0.4em] text-teal-600 flex items-center gap-3\">\n                       <div className=\"h-0.5 w-8 bg-teal-600\"></div> About Us\n                    </h2>\n                    <h3 className=\"text-5xl font-black text-slate-900 uppercase italic leading-tight\">Logic with <br/> Dilshan Uthpala</h3>\n                    <p className=\"text-slate-600 leading-relaxed text-xl font-medium\">\n                        We believe that logic is not just another subject but a way of thinking, questioning and discovering the world around us.\n                    </p>\n                    <p className=\"text-slate-500 leading-relaxed text-lg border-l-4 border-teal-500 pl-6 py-2 italic font-medium\">\n                        Created by a passionate law student, this logic platform helps students build a sharper mind and strengthen their reasoning.\n                    </p>\n                </div>\n                <div className=\"p-10 bg-slate-900 rounded-[3rem] text-white relative shadow-2xl border-t-8 border-teal-500 group overflow-hidden\">\n                    <Quote className=\"absolute top-6 right-6 size-12 text-teal-500/20 group-hover:scale-110 transition-transform\" />\n                    <p className=\"text-3xl font-black italic tracking-tighter leading-tight uppercase relative z-10\">\"මොළ හදන <br/> ලොජික් පන්තිය\"</p>\n                </div>\n            </div>\n\n            <div className=\"space-y-16 py-12\">\n                <div className=\"flex gap-8 group\">\n                    <div className=\"bg-white p-5 rounded-[2rem] shadow-xl h-fit border border-slate-50 group-hover:bg-teal-600 transition-all duration-300\">\n                        <Target className=\"text-teal-600 group-hover:text-white size-10 transition-colors\" />\n                    </div>\n                    <div className=\"space-y-3\">\n                        <h4 className=\"text-2xl font-black uppercase italic text-slate-900\">Our Goal</h4>\n                        <p className=\"text-slate-500 leading-relaxed text-lg font-medium\">\n                            To simplify the subject of logic and present it to the student in a fun, intuitive and understandable way.\n                        </p>\n                    </div>\n                </div>\n                <div className=\"flex gap-8 group\">\n                    <div className=\"bg-white p-5 rounded-[2rem] shadow-xl h-fit border border-slate-50 group-hover:bg-teal-600 transition-all duration-300\">\n                        <BrainCircuit className=\"text-teal-600 group-hover:text-white size-10 transition-colors\" />\n                    </div>\n                    <div className=\"space-y-3\">\n                        <h4 className=\"text-2xl font-black uppercase italic text-slate-900\">Our Mission</h4>\n                        <p className=\"text-slate-500 leading-relaxed text-lg font-medium\">\n                            Instead of teaching a mere subject, we instill a rational mindset and teach scientific methods with equal emphasis.\n                        </p>\n                    </div>\n                </div>\n            </div>\n        </div>\n      </section>\n\n      {/* Notice Board */}\n      {notices.length > 0 && (\n        <section className=\"py-24 bg-slate-50 border-y border-slate-100\">\n            <div className=\"max-w-7xl mx-auto px-6\">\n                <div className=\"flex items-center gap-3 mb-16\">\n                    <Bell className=\"text-teal-600 size-7\" />\n                    <h2 className=\"text-3xl font-black uppercase tracking-tighter text-slate-900 italic\">Notice Board</h2>\n                </div>\n                <div className=\"grid md:grid-cols-3 gap-8\">\n                    {notices.map(n => (\n                        <Card key={n.id} className=\"rounded-[2.5rem] border-none bg-white shadow-xl shadow-slate-200/50 p-4 transition-transform hover:-translate-y-2\">\n                            <CardHeader>\n                                <div className=\"text-[10px] font-black text-teal-600 uppercase mb-3 tracking-widest bg-teal-50 w-fit px-3 py-1 rounded-full\">{new Date(n.created_at).toLocaleDateString()}</div>\n                                <CardTitle className=\"text-xl font-black uppercase italic leading-tight text-slate-800\">{n.title}</CardTitle>\n                            </CardHeader>\n                            <CardContent><p className=\"text-sm text-slate-500 font-medium leading-relaxed\">{n.content}</p></CardContent>\n                        </Card>\n                    ))}\n                </div>\n            </div>\n        </section>\n      )}\n\n      {/* Hall of Fame */}\n      <section className=\"py-32 px-6 max-w-7xl mx-auto text-center\">\n        <div className=\"flex flex-col items-center mb-16\">\n            <Trophy className=\"text-teal-600 size-14 mb-6\" />\n            <h2 className=\"text-6xl font-black tracking-tighter uppercase italic text-slate-900\">Hall of Fame</h2>\n            <p className=\"text-slate-400 font-bold uppercase tracking-[0.4em] text-xs mt-4\">Recognition of Excellence</p>\n        </div>\n        \n        <div className=\"flex flex-wrap justify-center gap-3 mt-12 mb-20\">\n          {classes.map(c => (\n            <Button \n              key={c.id} \n              variant={selectedClassId === c.id ? \"default\" : \"outline\"} \n              onClick={() => setSelectedClassId(c.id)} \n              className={`rounded-2xl font-black px-8 h-14 uppercase text-[10px] tracking-[0.2em] transition-all ${\n                selectedClassId === c.id ? 'bg-slate-900 text-white shadow-lg' : 'text-slate-400 border-slate-200 hover:text-slate-900'\n              }`}\n            >\n              {c.year} {c.type}\n            </Button>\n          ))}\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8\">\n          {topStudents.length > 0 ? topStudents.map((s, i) => (\n            <Card key={i} className={`rounded-[3rem] border-none bg-white shadow-2xl p-6 relative transition-all hover:scale-105 ${i === 0 ? 'ring-2 ring-teal-500' : ''}`}>\n              {i === 0 && <Star className=\"absolute -top-3 -right-3 size-12 text-yellow-400 fill-yellow-400\" />}\n              <CardHeader className=\"text-left p-0 pb-6 border-b border-slate-50\">\n                <div className={`size-14 rounded-2xl flex items-center justify-center font-black text-2xl mb-4 ${i === 0 ? 'bg-teal-600 text-white' : 'bg-slate-50 text-slate-300'}`}>\n                    {i + 1}\n                </div>\n                <CardTitle className=\"text-xl font-black uppercase italic truncate text-slate-800\">{s.student_name}</CardTitle>\n                <CardDescription className=\"text-[10px] font-bold uppercase truncate text-slate-400 tracking-tight\">{s.school_name}</CardDescription>\n              </CardHeader>\n              <CardContent className=\"pt-6 px-0\">\n                <div className=\"p-6 bg-[#FAFBFC] rounded-[2rem] text-center border border-slate-100\">\n                    <p className=\"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-2 italic\">{s.exam_name}</p>\n                    <div className=\"text-5xl font-black text-teal-600 tracking-tighter italic\">{s.marks}%</div>\n                </div>\n              </CardContent>\n            </Card>\n          )) : (\n            <div className=\"col-span-full py-24 text-slate-300 font-black uppercase tracking-[0.4em] italic border-4 border-dashed rounded-[4rem]\">\n                Rankings Processing...\n            </div>\n          )}\n        </div>\n      </section>\n\n      {/* Class Schedule */}\n      <section className=\"py-32 px-6 bg-white border-y border-slate-100\">\n        <div className=\"max-w-7xl mx-auto\">\n            <div className=\"text-center mb-20 space-y-4\">\n                <h2 className=\"text-5xl font-black tracking-tighter uppercase italic text-slate-900 leading-none\">Class Schedule</h2>\n                <p className=\"text-slate-400 font-bold uppercase tracking-widest text-xs\">Instructor: Dilshan Uthpala</p>\n            </div>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-10\">\n                {classes.map(cls => (\n                    <Card key={cls.id} className=\"border-none rounded-[3.5rem] bg-slate-50 shadow-sm hover:shadow-2xl transition-all duration-500 group overflow-hidden border border-transparent hover:border-teal-500/20\">\n                        <CardHeader className=\"p-10 pb-6\">\n                            <Badge className=\"bg-slate-900 text-white border-none px-6 py-2 rounded-full mb-6 w-fit uppercase font-bold tracking-widest\">{cls.year}</Badge>\n                            <CardTitle className=\"text-3xl font-black uppercase italic text-slate-800 leading-tight group-hover:text-teal-600 transition-colors\">{cls.title}</CardTitle>\n                            <span className=\"text-[10px] font-black text-slate-400 uppercase tracking-widest mt-2 block\">{cls.type}</span>\n                        </CardHeader>\n                        <CardContent className=\"p-10 pt-0 space-y-5\">\n                            <div className=\"flex items-center gap-4 text-sm font-bold text-slate-600\"><div className=\"size-10 bg-white rounded-xl flex items-center justify-center shadow-sm\"><Calendar size={18} className=\"text-teal-600\"/></div> {cls.class_day}</div>\n                            <div className=\"flex items-center gap-4 text-sm font-bold text-slate-600\"><div className=\"size-10 bg-white rounded-xl flex items-center justify-center shadow-sm\"><Clock size={18} className=\"text-teal-600\"/></div> {cls.class_time}</div>\n                            <div className=\"flex items-center gap-4 text-sm font-medium text-slate-400\"><div className=\"size-10 bg-white rounded-xl flex items-center justify-center shadow-sm\"><MapPin size={18}/></div> {cls.institute_name}</div>\n                            <Button className=\"w-full h-16 mt-8 bg-slate-900 hover:bg-teal-600 text-white rounded-2xl font-black uppercase text-xs tracking-widest transition-all\" onClick={() => onNavigate('student')}>Enroll Now</Button>\n                        </CardContent>\n                    </Card>\n                ))}\n            </div>\n        </div>\n      </section>\n\n      {/* Gallery Section */}\n      <section className=\"py-32 px-6 max-w-7xl mx-auto\">\n        <div className=\"flex items-center justify-between mb-20 border-l-8 border-teal-500 pl-8\">\n          <div>\n            <h2 className=\"text-6xl font-black tracking-tighter uppercase italic text-slate-900\">Visuals</h2>\n            <p className=\"text-teal-600 font-bold uppercase tracking-widest text-sm mt-3\">Moments from logic sessions</p>\n          </div>\n          <Images className=\"size-16 text-slate-200 hidden md:block\" />\n        </div>\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8\">\n          {galleries.map((gal) => (\n            <Card key={gal.id} className=\"group cursor-pointer overflow-hidden rounded-[3rem] border-none shadow-2xl transition-all active:scale-95\" onClick={() => setSelectedGallery(gal)}>\n              <div className=\"relative h-[28rem] w-full\">\n                <img src={gal.image_urls[0]} alt={gal.name} className=\"h-full w-full object-cover transition-transform group-hover:scale-110 duration-1000 grayscale group-hover:grayscale-0\" />\n                <div className=\"absolute inset-0 bg-gradient-to-t from-slate-950 via-transparent to-transparent opacity-80\" />\n                <div className=\"absolute bottom-8 left-8 right-8 text-white\">\n                  <h3 className=\"font-black text-2xl mb-1 tracking-tighter uppercase italic leading-none\">{gal.name}</h3>\n                  <Badge className=\"bg-teal-500 text-white border-none font-black text-[9px] px-3 mt-4\">{gal.image_urls.length} ASSETS</Badge>\n                </div>\n              </div>\n            </Card>\n          ))}\n        </div>\n      </section>\n\n      {/* Footer */}\n      <footer className=\"bg-[#030712] text-white pt-32 pb-12 px-6\">\n        <div className=\"max-w-7xl mx-auto\">\n          <div className=\"grid md:grid-cols-3 gap-24 border-b border-white/5 pb-24\">\n            <div className=\"space-y-8\">\n                <div className=\"flex items-center gap-3\">\n                   <div className=\"bg-white p-2 rounded-xl shadow-lg\"><Zap className=\"text-slate-950 fill-slate-950 size-6\" /></div>\n                   <h3 className=\"text-4xl font-black uppercase italic tracking-tighter\">Logic</h3>\n                </div>\n                <p className=\"text-slate-400 text-lg leading-relaxed italic font-medium\">Instilling a rational mindset and simplified logic education through intuitive reasoning.</p>\n                \n                <div className=\"space-y-4 pt-4\">\n                    <div className=\"flex items-center gap-3 text-slate-300 text-sm\">\n                        <Mail className=\"size-4 text-teal-500\" /> dilshanuthpalalogic@gmail.com\n                    </div>\n                    <div className=\"flex items-center gap-3 text-slate-300 text-sm\">\n                        <Phone className=\"size-4 text-teal-500\" /> +94 77 022 4060\n                    </div>\n                </div>\n\n                <div className=\"flex gap-6 pt-6\">\n                   <a href=\"https://web.facebook.com/profile.php?id=100094065144515\" target=\"_blank\" rel=\"noreferrer\" className=\"bg-white/5 p-4 rounded-2xl hover:bg-teal-600 transition-all group\">\n                        <Facebook className=\"size-5 text-white group-hover:scale-110 transition-transform\" />\n                   </a>\n                   <a href=\"https://www.youtube.com/@DilshanUthpala\" target=\"_blank\" rel=\"noreferrer\" className=\"bg-white/5 p-4 rounded-2xl hover:bg-teal-600 transition-all group\">\n                        <Youtube className=\"size-5 text-white group-hover:scale-110 transition-transform\" />\n                   </a>\n                   <a href=\"#\" className=\"bg-white/5 p-4 rounded-2xl hover:bg-teal-600 transition-all group\">\n                        <Instagram className=\"size-5 text-white group-hover:scale-110 transition-transform\" />\n                   </a>\n                </div>\n            </div>\n            \n            <div>\n                <h4 className=\"font-black mb-10 uppercase text-slate-500 tracking-[0.4em] text-[10px]\">Navigation</h4>\n                <ul className=\"space-y-6 text-slate-300 font-bold text-sm uppercase tracking-widest\">\n                   <li onClick={() => onNavigate('home')} className=\"hover:text-teal-500 cursor-pointer flex items-center gap-2 group transition-colors italic\">\n                      <ChevronRight className=\"size-4 opacity-0 group-hover:opacity-100 -translate-x-2 group-hover:translate-x-0 transition-all\" /> Home Portal\n                   </li>\n                   <li onClick={() => onNavigate('student')} className=\"hover:text-teal-500 cursor-pointer flex items-center gap-2 group transition-colors italic\">\n                      <ChevronRight className=\"size-4 opacity-0 group-hover:opacity-100 -translate-x-2 group-hover:translate-x-0 transition-all\" /> Student Hub\n                   </li>\n                   {/* UPDATED: Navigates to Admin Login Gateway */}\n                   <li onClick={() => onNavigate('admin-login')} className=\"hover:text-teal-500 cursor-pointer flex items-center gap-2 group transition-colors italic\">\n                      <ChevronRight className=\"size-4 opacity-0 group-hover:opacity-100 -translate-x-2 group-hover:translate-x-0 transition-all\" /> Staff Hub\n                   </li>\n                </ul>\n            </div>\n\n            <div className=\"space-y-10\">\n               <div className=\"p-8 bg-[#0B0F1A] rounded-[2.5rem] border border-white/5 group hover:border-teal-500/40 transition-all shadow-2xl relative overflow-hidden\">\n                  <div className=\"absolute top-0 right-0 w-24 h-24 bg-teal-500/5 -translate-y-12 translate-x-12 rounded-full blur-2xl\"></div>\n                  <p className=\"text-[10px] text-teal-500 font-black uppercase tracking-widest mb-6\">Developed By</p>\n                  <div className=\"flex items-center justify-between\">\n                      <p className=\"text-3xl font-black tracking-tight uppercase italic leading-[0.9] text-white\">Lakruwan <br/> Shashika</p>\n                      <a href=\"https://www.linkedin.com/in/lakruwan-shashika/\" target=\"_blank\" rel=\"noreferrer\" className=\"bg-teal-600 p-4 rounded-[1.25rem] text-white hover:bg-teal-500 transition-all shadow-lg\">\n                        <ArrowUpRight size={28}/>\n                      </a>\n                  </div>\n               </div>\n               <p className=\"text-[10px] text-slate-700 font-black uppercase tracking-[0.5em] text-center italic\">© 2025 LOGIC EDUCATION PLATFORM</p>\n            </div>\n          </div>\n        </div>\n      </footer>\n\n      {/* Gallery Viewer Popup */}\n      {selectedGallery && (\n        <Dialog open={!!selectedGallery} onOpenChange={() => setSelectedGallery(null)}>\n          <DialogContent className=\"max-w-6xl max-h-[90vh] overflow-y-auto rounded-[4rem] p-12 bg-zinc-950 border border-white/10 shadow-2xl\">\n            <DialogHeader className=\"mb-12 text-center\">\n              <DialogTitle className=\"text-5xl font-black tracking-tighter italic text-white uppercase\">{selectedGallery.name}</DialogTitle>\n              <DialogDescription className=\"text-sm font-black text-zinc-500 uppercase tracking-[0.3em] mt-2 italic underline underline-offset-8 decoration-teal-500 decoration-4\">Exclusive Gallery Archive</DialogDescription>\n            </DialogHeader>\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8\">\n              {selectedGallery.image_urls.map((url: string, i: number) => (\n                <div key={i} className=\"aspect-[4/3] rounded-[2.5rem] overflow-hidden border-4 border-white/5 shadow-2xl group transition-all hover:border-teal-500/30\">\n                  <img src={url} alt={`Gallery asset ${i}`} className=\"w-full h-full object-cover hover:scale-110 transition-transform duration-700 cursor-zoom-in\" onClick={() => window.open(url, '_blank')} />\n                </div>\n              ))}\n            </div>\n            <div className=\"mt-16 flex justify-center\">\n               <Button variant=\"outline\" className=\"rounded-full px-16 h-16 font-black uppercase text-xs tracking-widest border-zinc-800 text-white hover:bg-white hover:text-black transition-all\" onClick={() => setSelectedGallery(null)}>Close Archive</Button>\n            </div>\n          </DialogContent>\n        </Dialog>\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2045, "column": 0}, "map": {"version":3,"sources":["file:///E:/Project/Educational%20Platform%20Design/my-lms-project/src/app/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"./utils\";\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nexport { Input };\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,sQAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,qKAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 2070, "column": 0}, "map": {"version":3,"sources":["file:///E:/Project/Educational%20Platform%20Design/my-lms-project/src/app/components/ui/tabs.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\";\n\nimport { cn } from \"./utils\";\n\nfunction Tabs({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\n  return (\n    <TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn(\"flex flex-col gap-2\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction TabsList({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        \"bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return (\n    <TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn(\"flex-1 outline-none\", className)}\n      {...props}\n    />\n  );\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent };\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,sQAAC,gMAAkB;QACjB,aAAU;QACV,WAAW,IAAA,qKAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,sQAAC,gMAAkB;QACjB,aAAU;QACV,WAAW,IAAA,qKAAE,EACX,4GACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,sQAAC,mMAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qKAAE,EACX,+nBACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,sQAAC,mMAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qKAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 2136, "column": 0}, "map": {"version":3,"sources":["file:///E:/Project/Educational%20Platform%20Design/my-lms-project/src/app/components/ui/table.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\n\nimport { cn } from \"./utils\";\n\nfunction Table({ className, ...props }: React.ComponentProps<\"table\">) {\n  return (\n    <div\n      data-slot=\"table-container\"\n      className=\"relative w-full overflow-x-auto\"\n    >\n      <table\n        data-slot=\"table\"\n        className={cn(\"w-full caption-bottom text-sm\", className)}\n        {...props}\n      />\n    </div>\n  );\n}\n\nfunction TableHeader({ className, ...props }: React.ComponentProps<\"thead\">) {\n  return (\n    <thead\n      data-slot=\"table-header\"\n      className={cn(\"[&_tr]:border-b\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction TableBody({ className, ...props }: React.ComponentProps<\"tbody\">) {\n  return (\n    <tbody\n      data-slot=\"table-body\"\n      className={cn(\"[&_tr:last-child]:border-0\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction TableFooter({ className, ...props }: React.ComponentProps<\"tfoot\">) {\n  return (\n    <tfoot\n      data-slot=\"table-footer\"\n      className={cn(\n        \"bg-muted/50 border-t font-medium [&>tr]:last:border-b-0\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction TableRow({ className, ...props }: React.ComponentProps<\"tr\">) {\n  return (\n    <tr\n      data-slot=\"table-row\"\n      className={cn(\n        \"hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction TableHead({ className, ...props }: React.ComponentProps<\"th\">) {\n  return (\n    <th\n      data-slot=\"table-head\"\n      className={cn(\n        \"text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction TableCell({ className, ...props }: React.ComponentProps<\"td\">) {\n  return (\n    <td\n      data-slot=\"table-cell\"\n      className={cn(\n        \"p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction TableCaption({\n  className,\n  ...props\n}: React.ComponentProps<\"caption\">) {\n  return (\n    <caption\n      data-slot=\"table-caption\"\n      className={cn(\"text-muted-foreground mt-4 text-sm\", className)}\n      {...props}\n    />\n  );\n}\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAIA;AAJA;;;AAMA,SAAS,MAAM,EAAE,SAAS,EAAE,GAAG,OAAsC;IACnE,qBACE,sQAAC;QACC,aAAU;QACV,WAAU;kBAEV,cAAA,sQAAC;YACC,aAAU;YACV,WAAW,IAAA,qKAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;AAIjB;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,sQAAC;QACC,aAAU;QACV,WAAW,IAAA,qKAAE,EAAC,mBAAmB;QAChC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAsC;IACvE,qBACE,sQAAC;QACC,aAAU;QACV,WAAW,IAAA,qKAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,sQAAC;QACC,aAAU;QACV,WAAW,IAAA,qKAAE,EACX,2DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAmC;IACnE,qBACE,sQAAC;QACC,aAAU;QACV,WAAW,IAAA,qKAAE,EACX,+EACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,sQAAC;QACC,aAAU;QACV,WAAW,IAAA,qKAAE,EACX,sJACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,sQAAC;QACC,aAAU;QACV,WAAW,IAAA,qKAAE,EACX,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OAC6B;IAChC,qBACE,sQAAC;QACC,aAAU;QACV,WAAW,IAAA,qKAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 2260, "column": 0}, "map": {"version":3,"sources":["file:///E:/Project/Educational%20Platform%20Design/my-lms-project/src/app/components/StudentDashboard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { supabase } from \"@/lib/supabase\";\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"./ui/card\";\nimport { Button } from \"./ui/button\";\nimport { Badge } from \"./ui/badge\";\nimport { Input } from \"./ui/input\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"./ui/tabs\";\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"./ui/table\";\nimport { \n  BookOpen, FileText, GraduationCap, Download, \n  Play, LogOut, Bell, Lock, XCircle, ChevronLeft, User, Trophy, Send, HelpCircle, Quote\n} from \"lucide-react\";\n\nexport function StudentDashboard({ onNavigate }: { onNavigate: (page: string) => void }) {\n  const [profile, setProfile] = useState<any>(null);\n  const [enrolledClasses, setEnrolledClasses] = useState<any[]>([]);\n  const [selectedClassId, setSelectedClassId] = useState<number | null>(null);\n  const [content, setContent] = useState<any[]>([]);\n  const [myMarks, setMyMarks] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  // Messaging & Q&A State\n  const [classMessages, setClassMessages] = useState<any[]>([]);\n  const [questionText, setQuestionText] = useState(\"\");\n  const [myQuestions, setMyQuestions] = useState<any[]>([]);\n\n  useEffect(() => {\n    fetchInitialData();\n  }, []);\n\n  useEffect(() => {\n    if (selectedClassId && profile?.is_paid && !profile?.is_suspended) {\n      fetchClassSpecificData();\n    }\n  }, [selectedClassId, profile]);\n\n  async function fetchInitialData() {\n    setLoading(true);\n    // Explicitly check session to prevent \"undefined\" errors\n    const { data: { session } } = await supabase.auth.getSession();\n    \n    if (!session?.user) {\n      onNavigate('home');\n      return;\n    }\n\n    // 1. Fetch User Profile\n    const { data: profileData } = await supabase\n      .from('profiles')\n      .select('*')\n      .eq('id', session.user.id)\n      .single();\n    \n    setProfile(profileData);\n\n    // 2. Fetch Enrolled Classes\n    const { data: enrollmentData } = await supabase\n      .from('enrollments')\n      .select(`classes (*)`)\n      .eq('student_id', session.user.id);\n\n    if (enrollmentData) {\n      const formatted = enrollmentData.map((e: any) => e.classes).filter(Boolean);\n      setEnrolledClasses(formatted);\n      if (formatted.length > 0) setSelectedClassId(formatted[0].id);\n    }\n\n    // 3. Fetch Full Marks History\n    const { data: markData } = await supabase\n      .from('exam_results')\n      .select(`*, classes (title)`)\n      .eq('student_id', session.user.id)\n      .order('created_at', { ascending: false });\n    \n    if (markData) setMyMarks(markData);\n\n    // 4. Fetch Inquiry History\n    const { data: questions } = await supabase\n      .from('private_questions')\n      .select('*')\n      .eq('student_id', session.user.id)\n      .order('created_at', { ascending: false });\n    setMyQuestions(questions || []);\n\n    setLoading(false);\n  }\n\n  async function fetchClassSpecificData() {\n    if (!selectedClassId) return;\n\n    // Fetch Class Materials\n    const { data: contentData } = await supabase\n      .from('class_content')\n      .select('*')\n      .eq('class_id', selectedClassId)\n      .order('created_at', { ascending: false });\n    if (contentData) setContent(contentData);\n\n    // Fetch Direct Class Messages\n    const { data: messages } = await supabase\n      .from('class_messages')\n      .select('*')\n      .eq('class_id', selectedClassId)\n      .order('created_at', { ascending: false });\n    setClassMessages(messages || []);\n  }\n\n  async function handleAskQuestion() {\n    if (!questionText.trim() || !profile) return;\n    \n    const { error } = await supabase\n      .from('private_questions')\n      .insert([{ \n        student_id: profile.id, \n        student_name: profile.full_name,\n        question_text: questionText.trim() \n      }]);\n\n    if (!error) {\n      setQuestionText(\"\");\n      // Refresh Inquiry List\n      const { data } = await supabase\n        .from('private_questions')\n        .select('*')\n        .eq('student_id', profile.id)\n        .order('created_at', { ascending: false });\n      setMyQuestions(data || []);\n    } else {\n      alert(\"Submission Error: \" + error.message);\n    }\n  }\n\n  const handleLogout = async () => {\n    await supabase.signOut();\n    onNavigate('home');\n  };\n\n  if (loading) return <div className=\"h-screen flex items-center justify-center font-bold text-teal-600 animate-pulse italic tracking-tighter\">ESTABLISHING SECURE GATEWAY...</div>;\n\n  if (!profile?.is_paid || profile?.is_suspended) {\n    return (\n      <div className=\"h-screen flex flex-col items-center justify-center bg-slate-50 p-6 text-center\">\n        <Card className=\"p-10 rounded-[3rem] shadow-2xl max-w-md border-t-8 border-rose-500 bg-white\">\n          <div className=\"bg-rose-50 p-5 rounded-full w-fit mx-auto mb-6\">\n            {profile?.is_suspended ? <XCircle className=\"size-12 text-rose-600\" /> : <Lock className=\"size-12 text-rose-600\" />}\n          </div>\n          <h2 className=\"text-3xl font-black mb-4 tracking-tighter uppercase text-slate-800\">Access Restricted</h2>\n          <p className=\"text-slate-500 mb-8 font-medium leading-relaxed\">\n            {profile?.is_suspended \n              ? \"Your account is currently suspended. Please contact the administration.\" \n              : \"Payment verification pending. Please settle your monthly dues to unlock your course materials.\"}\n          </p>\n          <Button className=\"w-full py-7 rounded-2xl font-black bg-slate-900 text-white shadow-xl\" onClick={() => onNavigate('home')}>Exit Portal</Button>\n        </Card>\n      </div>\n    );\n  }\n\n  const selectedClassInfo = enrolledClasses.find(c => c.id === selectedClassId);\n\n  return (\n    <div className=\"flex h-screen bg-[#F8FAFC] text-slate-900 overflow-hidden\">\n      {/* SIDEBAR */}\n      <aside className=\"w-80 border-r p-6 bg-white flex flex-col shadow-sm\">\n        <div className=\"mb-10 px-2\">\n          <h2 className=\"text-2xl font-black text-slate-800 tracking-tighter uppercase italic\">Logic Student</h2>\n          <p className=\"text-[9px] font-bold text-teal-600 tracking-[0.2em] uppercase mt-1\">Authorized Access</p>\n        </div>\n\n        <div className=\"flex-1 space-y-1 overflow-y-auto pr-2 custom-scrollbar\">\n          <p className=\"text-[11px] uppercase font-black text-slate-400 ml-3 mb-4 tracking-widest\">Available Folders</p>\n          {enrolledClasses.map(cls => (\n            <Button \n              key={cls.id} \n              variant={selectedClassId === cls.id ? \"default\" : \"ghost\"} \n              className={`w-full justify-start h-auto py-5 px-4 rounded-2xl transition-all mb-2 ${\n                selectedClassId === cls.id ? 'bg-slate-900 shadow-xl ring-4 ring-slate-100' : 'hover:bg-slate-50'\n              }`}\n              onClick={() => setSelectedClassId(cls.id)}\n            >\n              <BookOpen className={`mr-4 h-6 w-6 ${selectedClassId === cls.id ? 'text-teal-400' : 'text-slate-400'}`}/> \n              <div className=\"text-left overflow-hidden\">\n                <div className={`text-sm font-black truncate uppercase ${selectedClassId === cls.id ? 'text-white' : 'text-slate-700'}`}>{cls.title}</div>\n                <div className={`text-[10px] font-bold ${selectedClassId === cls.id ? 'text-slate-400' : 'text-slate-400'}`}>\n                  {cls.year} • {cls.type}\n                </div>\n              </div>\n            </Button>\n          ))}\n        </div>\n\n        <div className=\"pt-6 border-t mt-auto space-y-4\">\n          <div className=\"px-4 py-3 bg-slate-50 rounded-2xl flex items-center gap-3 border\">\n             <div className=\"size-10 bg-white rounded-xl flex items-center justify-center border shadow-sm font-black text-teal-600 italic\">L</div>\n             <div className=\"overflow-hidden\">\n                <p className=\"text-xs font-black truncate\">{profile?.full_name}</p>\n                <p className=\"text-[9px] text-slate-500 font-bold uppercase truncate\">{profile?.school_name}</p>\n             </div>\n          </div>\n          <div className=\"grid grid-cols-2 gap-2\">\n            <Button variant=\"outline\" className=\"text-xs h-10 rounded-xl font-bold\" onClick={() => onNavigate('home')}>Home</Button>\n            <Button variant=\"ghost\" className=\"text-xs h-10 rounded-xl font-bold text-rose-500 hover:bg-rose-50\" onClick={handleLogout}>Logout</Button>\n          </div>\n        </div>\n      </aside>\n\n      {/* MAIN CONTENT */}\n      <main className=\"flex-1 p-10 overflow-auto\">\n        <div className=\"max-w-5xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500\">\n          \n          {/* HEADER */}\n          <header className=\"flex justify-between items-start bg-white p-8 rounded-[2.5rem] shadow-sm border relative overflow-hidden\">\n            <div className=\"absolute top-0 right-0 w-32 h-full bg-teal-50 -skew-x-12 translate-x-10 opacity-50\"></div>\n            <div className=\"space-y-3 relative z-10\">\n              <h1 className=\"text-4xl font-black tracking-tighter uppercase italic text-slate-800\">{selectedClassInfo?.title || \"Course Portal\"}</h1>\n              <div className=\"flex gap-2\">\n                  <Badge className=\"bg-teal-600 text-white border-none px-4 py-1 font-bold rounded-full\">{selectedClassInfo?.year || \"----\"}</Badge>\n                  <Badge variant=\"outline\" className=\"border-slate-200 text-slate-500 px-4 py-1 font-bold rounded-full uppercase text-[10px]\">{selectedClassInfo?.type || \"----\"}</Badge>\n              </div>\n            </div>\n            <div className=\"text-right relative z-10\">\n              <p className=\"text-xs uppercase font-black text-slate-400 tracking-widest mb-1\">Instructor</p>\n              <p className=\"text-xl font-black text-slate-900 italic leading-none\">Dilshan Uthpala</p>\n            </div>\n          </header>\n\n          <Tabs defaultValue=\"video\" className=\"w-full\">\n            <TabsList className=\"mb-8 p-1.5 bg-slate-200/50 rounded-[1.5rem] h-16 w-fit shadow-inner\">\n              <TabsTrigger value=\"video\" className=\"rounded-xl font-black text-xs uppercase px-6 h-full data-[state=active]:bg-white data-[state=active]:shadow-md\"><Play size={14} className=\"mr-2\"/> Recordings</TabsTrigger>\n              <TabsTrigger value=\"notes\" className=\"rounded-xl font-black text-xs uppercase px-6 h-full data-[state=active]:bg-white data-[state=active]:shadow-md\"><FileText size={14} className=\"mr-2\"/> Materials</TabsTrigger>\n              <TabsTrigger value=\"marks\" className=\"rounded-xl font-black text-xs uppercase px-6 h-full data-[state=active]:bg-white data-[state=active]:shadow-md\"><GraduationCap size={14} className=\"mr-2\"/> Performance</TabsTrigger>\n              <TabsTrigger value=\"inquiry\" className=\"rounded-xl font-black text-xs uppercase px-6 h-full data-[state=active]:bg-white data-[state=active]:shadow-md\"><HelpCircle size={14} className=\"mr-2\"/> Q&A Help</TabsTrigger>\n            </TabsList>\n\n            {/* FOLDER ANNOUNCEMENTS */}\n            {classMessages.length > 0 && (\n                <div className=\"mb-10 space-y-3\">\n                    <p className=\"text-[10px] font-black uppercase text-teal-600 tracking-widest ml-2 flex items-center gap-2\"><Bell size={12}/> Class Updates</p>\n                    {classMessages.map(m => (\n                        <Card key={m.id} className=\"border-none bg-teal-600 text-white rounded-3xl shadow-xl shadow-teal-900/10 p-6 relative overflow-hidden group\">\n                            <Quote className=\"absolute -right-2 -bottom-2 size-24 opacity-10 group-hover:scale-110 transition-transform\" />\n                            <div className=\"flex justify-between items-center mb-2\">\n                                <span className=\"text-[10px] font-black uppercase tracking-[0.2em] text-teal-100\">Folder Announcement</span>\n                                <span className=\"text-[10px] font-bold opacity-60\">{new Date(m.created_at).toLocaleDateString()}</span>\n                            </div>\n                            <p className=\"font-bold text-lg leading-relaxed relative z-10\">{m.message_text}</p>\n                        </Card>\n                    ))}\n                </div>\n            )}\n\n            <TabsContent value=\"video\" className=\"grid gap-4\">\n              {content.filter(c => c.type === 'video').length > 0 ? (\n                content.filter(c => c.type === 'video').map(v => (\n                  <Card key={v.id} className=\"p-6 flex items-center justify-between bg-white rounded-[2rem] border-none shadow-sm hover:shadow-xl hover:scale-[1.01] transition-all group\">\n                     <div className=\"flex items-center gap-6\">\n                       <div className=\"bg-slate-100 p-5 rounded-2xl group-hover:bg-slate-900 group-hover:text-white transition-all duration-300\">\n                          <Play className=\"size-7 fill-current\" />\n                       </div>\n                       <div>\n                          <span className=\"font-black text-xl block uppercase tracking-tight text-slate-800\">{v.title}</span>\n                          <span className=\"text-[10px] uppercase font-bold text-slate-400 italic\">Logical Analysis • {new Date(v.created_at).toLocaleDateString()}</span>\n                       </div>\n                     </div>\n                     <Button size=\"lg\" className=\"rounded-2xl px-10 font-black bg-teal-600 hover:bg-teal-700 text-white uppercase text-xs h-14\" onClick={() => window.open(v.url, '_blank')}>Play Lesson</Button>\n                  </Card>\n                ))\n              ) : (\n                <div className=\"py-24 text-center border-4 border-dashed rounded-[3rem] text-slate-300 font-bold uppercase tracking-widest italic\">Choose a course folder to view recordings</div>\n              )}\n            </TabsContent>\n\n            <TabsContent value=\"notes\" className=\"grid gap-4\">\n              {content.filter(c => c.type === 'note').map(n => (\n                <Card key={n.id} className=\"p-6 flex items-center justify-between bg-white rounded-[2rem] border-2 border-transparent hover:border-teal-500/20 transition-all shadow-sm\">\n                   <div className=\"flex items-center gap-6\">\n                     <div className=\"bg-orange-50 p-5 rounded-2xl text-orange-500\"><FileText className=\"size-7\" /></div>\n                     <div>\n                        <span className=\"font-black text-xl block uppercase tracking-tight text-slate-800\">{n.title}</span>\n                        <p className=\"text-[10px] font-bold text-teal-600 uppercase tracking-widest italic leading-none mt-1\">Verified PDF Material</p>\n                     </div>\n                   </div>\n                   <Button variant=\"ghost\" size=\"icon\" className=\"rounded-2xl size-14 hover:bg-teal-50 text-teal-600 transition-all border border-slate-100\" onClick={() => window.open(n.url, '_blank')}>\n                      <Download className=\"h-7 w-7\"/>\n                   </Button>\n                </Card>\n              ))}\n            </TabsContent>\n\n            <TabsContent value=\"marks\" className=\"space-y-6\">\n              <div className=\"flex justify-between items-center px-4\">\n                  <h3 className=\"text-xl font-black uppercase italic tracking-tight text-slate-800\">Verified Result History</h3>\n                  <Badge className=\"bg-emerald-50 text-emerald-600 border border-emerald-100 px-4 py-1.5 rounded-full font-bold\">Total Entries: {myMarks.length}</Badge>\n              </div>\n              <Card className=\"border-none shadow-2xl overflow-hidden rounded-[2.5rem] bg-white\">\n                <Table>\n                  <TableHeader className=\"bg-slate-900\">\n                    <TableRow className=\"hover:bg-transparent border-none\">\n                      <TableHead className=\"py-6 pl-10 font-black uppercase text-[10px] text-white\">Date Released</TableHead>\n                      <TableHead className=\"font-black uppercase text-[10px] text-white text-center\">Paper / Exam Details</TableHead>\n                      <TableHead className=\"text-right pr-10 font-black uppercase text-[10px] text-white\">Final Score</TableHead>\n                    </TableRow>\n                  </TableHeader>\n                  <TableBody>\n                    {myMarks.map((m, index) => (\n                      <TableRow key={m.id} className={`border-slate-50 hover:bg-slate-50 transition-colors ${index === 0 ? 'bg-teal-50/20' : ''}`}>\n                        <TableCell className=\"py-8 pl-10 text-xs font-bold text-slate-400\">{new Date(m.created_at).toLocaleDateString()}</TableCell>\n                        <TableCell className=\"text-center\">\n                            <div className=\"flex flex-col\">\n                                <span className=\"text-[10px] font-black uppercase text-teal-600 mb-0.5\">{m.classes?.title}</span>\n                                <span className=\"font-black text-slate-800 uppercase italic text-sm\">{m.exam_name}</span>\n                            </div>\n                        </TableCell>\n                        <TableCell className=\"text-right pr-10\">\n                            <div className=\"flex flex-col items-end\">\n                                <span className=\"text-4xl font-black text-teal-600 italic tracking-tighter leading-none\">{m.marks}%</span>\n                                <span className=\"text-[8px] font-black uppercase text-slate-300 mt-1\">Assessment Confirmed</span>\n                            </div>\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n              </Card>\n            </TabsContent>\n\n            <TabsContent value=\"inquiry\" className=\"grid gap-8\">\n                <Card className=\"p-8 rounded-[2.5rem] shadow-xl border-t-8 border-teal-500 bg-white\">\n                    <CardTitle className=\"mb-4 uppercase italic text-xl text-slate-800 flex items-center gap-2\"><HelpCircle size={20} className=\"text-teal-600\"/> Help Desk</CardTitle>\n                    <CardDescription className=\"mb-6 font-medium text-slate-500\">Ask a question directly to Dilshan Uthpala. All inquiries are private between you and the instructor.</CardDescription>\n                    <div className=\"flex gap-2\">\n                        <Input \n                            placeholder=\"Describe your logical doubt here...\" \n                            className=\"h-14 rounded-2xl bg-slate-50 border-none px-6 focus-visible:ring-teal-500\" \n                            value={questionText} \n                            onChange={e => setQuestionText(e.target.value)} \n                        />\n                        <Button className=\"bg-slate-900 text-white rounded-2xl px-10 font-black uppercase text-xs hover:bg-black transition-all\" onClick={handleAskQuestion}><Send size={16} className=\"mr-2\"/> Ask</Button>\n                    </div>\n                </Card>\n\n                <div className=\"space-y-4\">\n                    <p className=\"text-[10px] font-black uppercase text-slate-400 tracking-widest ml-4\">Conversation History</p>\n                    {myQuestions.map(q => (\n                        <Card key={q.id} className=\"p-6 rounded-[2rem] border-none shadow-md bg-white\">\n                            <div className=\"flex justify-between mb-2\">\n                                <span className=\"text-[10px] font-black text-slate-400 uppercase tracking-widest\">{new Date(q.created_at).toLocaleDateString()}</span>\n                                {q.is_resolved ? <Badge className=\"bg-teal-500 text-white border-none\">Answered</Badge> : <Badge className=\"bg-slate-100 text-slate-500 border-none font-bold italic uppercase text-[9px]\">Awaiting Reply</Badge>}\n                            </div>\n                            <p className=\"font-bold text-slate-700 mb-4 bg-slate-50 p-4 rounded-xl border border-slate-100\">Q: {q.question_text}</p>\n                            {q.admin_reply && (\n                                <div className=\"p-5 bg-teal-50 rounded-2xl border border-teal-100 relative overflow-hidden\">\n                                    <div className=\"absolute top-0 right-0 w-24 h-full bg-teal-600/5 -skew-x-12 translate-x-10\"></div>\n                                    <p className=\"text-[10px] font-black text-teal-700 uppercase mb-2 tracking-widest\">Instructor Reply:</p>\n                                    <p className=\"text-sm font-medium text-slate-700 italic relative z-10 leading-relaxed\">\"{q.admin_reply}\"</p>\n                                </div>\n                            )}\n                        </Card>\n                    ))}\n                    {myQuestions.length === 0 && <div className=\"py-24 text-center text-slate-300 font-bold uppercase italic border-4 border-dashed rounded-[3rem]\">No recorded inquiries</div>}\n                </div>\n            </TabsContent>\n          </Tabs>\n        </div>\n      </main>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3462, "column": 0}, "map": {"version":3,"sources":["file:///E:/Project/Educational%20Platform%20Design/my-lms-project/src/app/components/ui/label.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as LabelPrimitive from \"@radix-ui/react-label\";\n\nimport { cn } from \"./utils\";\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nexport { Label };\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,sQAAC,iMAAmB;QAClB,aAAU;QACV,WAAW,IAAA,qKAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 3489, "column": 0}, "map": {"version":3,"sources":["file:///E:/Project/Educational%20Platform%20Design/my-lms-project/src/app/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"./utils\";\n\nfunction Textarea({ className, ...props }: React.ComponentProps<\"textarea\">) {\n  return (\n    <textarea\n      data-slot=\"textarea\"\n      className={cn(\n        \"resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nexport { Textarea };\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAyC;IACzE,qBACE,sQAAC;QACC,aAAU;QACV,WAAW,IAAA,qKAAE,EACX,8cACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 3513, "column": 0}, "map": {"version":3,"sources":["file:///E:/Project/Educational%20Platform%20Design/my-lms-project/src/app/components/ui/dropdown-menu.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from \"lucide-react\";\n\nimport { cn } from \"./utils\";\n\nfunction DropdownMenu({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />;\n}\n\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  );\n}\n\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuContent({\n  className,\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        data-slot=\"dropdown-menu-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md\",\n          className,\n        )}\n        {...props}\n      />\n    </DropdownMenuPrimitive.Portal>\n  );\n}\n\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  );\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean;\n  variant?: \"default\" | \"destructive\";\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  );\n}\n\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  );\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean;\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        \"px-2 py-1.5 text-sm font-medium data-[inset]:pl-8\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn(\"bg-border -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        \"text-muted-foreground ml-auto text-xs tracking-widest\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />;\n}\n\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean;\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  );\n}\n\nfunction DropdownMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\n  return (\n    <DropdownMenuPrimitive.SubContent\n      data-slot=\"dropdown-menu-sub-content\"\n      className={cn(\n        \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3788, "column": 0}, "map": {"version":3,"sources":["file:///E:/Project/Educational%20Platform%20Design/my-lms-project/src/app/components/AdminDashboard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { supabase } from \"@/lib/supabase\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"./ui/card\";\nimport { Button } from \"./ui/button\";\nimport { Input } from \"./ui/input\";\nimport { Badge } from \"./ui/badge\";\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"./ui/table\";\nimport { Label } from \"./ui/label\";\nimport { Textarea } from \"./ui/textarea\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger, DialogDescription } from \"./ui/dialog\";\nimport { \n  DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger \n} from \"./ui/dropdown-menu\";\nimport { \n  Users, Trophy, Plus, Trash2, Video, FileText, \n  FolderPlus, ChevronLeft, UserPlus, Clock, Search, \n  MoreVertical, Ban, School, Upload, Settings, Pencil, Check, Image as ImageIcon, EyeOff, Bell, ShieldCheck, Send, MessageSquare, ExternalLink, HelpCircle, Phone\n} from \"lucide-react\";\n\ntype AdminView = 'students' | 'classes' | 'gallery' | 'notices' | 'staff' | 'inquiries';\n\nexport function AdminDashboard({ onNavigate }: { onNavigate: (page: string) => void }) {\n  const [activeView, setActiveView] = useState<AdminView>('classes');\n  const [classes, setClasses] = useState<any[]>([]);\n  const [notices, setNotices] = useState<any[]>([]);\n  const [staff, setStaff] = useState<any[]>([]);\n  const [galleries, setGalleries] = useState<any[]>([]);\n  const [selectedClass, setSelectedClass] = useState<any>(null);\n  const [classContent, setClassContent] = useState<any[]>([]);\n  const [students, setStudents] = useState<any[]>([]);\n  const [classStudents, setClassStudents] = useState<any[]>([]); \n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const [uploading, setUploading] = useState(false);\n  \n  const [messageText, setMessageText] = useState(\"\");\n  const [classMessages, setClassMessages] = useState<any[]>([]);\n  const [allQuestions, setAllQuestions] = useState<any[]>([]);\n  const [replyText, setReplyText] = useState<{ [key: number]: string }>({});\n\n  const [isRegModalOpen, setIsRegModalOpen] = useState(false);\n  const [newNotice, setNewNotice] = useState({ title: \"\", content: \"\" });\n  const [newStaff, setNewStaff] = useState({ email: \"\", password: \"\", fullName: \"\" });\n  const [examName, setExamName] = useState(\"Monthly Test\");\n  const [studentMarks, setStudentMarks] = useState<{ [key: string]: string }>({});\n  const [existingResults, setExistingResults] = useState<any[]>([]);\n  const [newGalleryName, setNewGalleryName] = useState(\"\");\n  const [galleryImages, setGalleryImages] = useState<string[]>([]);\n  const [regData, setRegData] = useState({ email: \"\", password: \"\", fullName: \"\", academicYear: \"\", schoolName: \"\", phoneNumber: \"\", institute: \"\" });\n  const [newClass, setNewClass] = useState({ title: \"\", year: \"\", type: \"Theory\", class_day: \"\", class_time: \"\", institute_name: \"\", class_category: \"Group\", instructor: \"Dilshan Uthpala\" });\n  const [editClassData, setEditClassData] = useState<any>(null);\n  const [newContent, setNewContent] = useState({ title: \"\", url: \"\", type: \"video\" });\n\n  useEffect(() => {\n    fetchInitialData();\n  }, [activeView]);\n\n  useEffect(() => {\n    if (selectedClass) {\n      fetchFolderContent();\n      fetchStudentsInClass(selectedClass.id);\n      fetchExistingResults(selectedClass.id);\n      fetchClassMessages(selectedClass.id);\n    }\n  }, [selectedClass]);\n\n  async function fetchInitialData() {\n    setLoading(true);\n    try {\n      const { data: cls } = await supabase.from('classes').select('*').order('year', { ascending: false });\n      const classesData = cls || [];\n      setClasses(classesData);\n\n      const { data: nts } = await supabase.from('notices').select('*').order('created_at', { ascending: false });\n      setNotices(nts || []);\n\n      const { data: stf } = await supabase.from('profiles').select('*').eq('role', 'admin');\n      setStaff(stf || []);\n\n      const { data: gals } = await supabase.from('galleries').select('*').order('created_at', { ascending: false });\n      setGalleries(gals || []);\n\n      const { data: profiles } = await supabase.from('profiles').select('*').eq('role', 'student').order('full_name');\n      const { data: enrolls } = await supabase.from('enrollments').select('student_id, class_id');\n\n      if (profiles) {\n        const merged = profiles.map(p => ({\n          ...p,\n          enrolled_folders: enrolls?.filter(e => e.student_id === p.id).map(e => (cls || []).find(c => c.id === e.class_id)).filter(Boolean) || []\n        }));\n        setStudents(merged);\n      }\n\n      if (activeView === 'inquiries') await fetchAllQuestions();\n\n    } catch (err: any) { console.error(\"Sync Error:\", err.message); }\n    setLoading(false);\n  }\n\n  const filteredStudents = students.filter(s => \n    s.full_name?.toLowerCase().includes(searchQuery.toLowerCase()) || \n    s.email?.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    s.phone_number?.includes(searchQuery)\n  );\n\n  async function fetchAllQuestions() {\n    const { data } = await supabase.from('private_questions').select('*').order('is_resolved', { ascending: true }).order('created_at', { ascending: false });\n    setAllQuestions(data || []);\n  }\n\n  async function submitReply(id: number) {\n    const text = replyText[id];\n    if (!text) return alert(\"Type a reply first\");\n    const { error } = await supabase.from('private_questions').update({ \n        admin_reply: text, \n        is_resolved: true,\n        replied_at: new Date().toISOString() \n    }).eq('id', id);\n    \n    if (!error) {\n        alert(\"Reply Sent!\");\n        setReplyText(prev => { const updated = { ...prev }; delete updated[id]; return updated; });\n        fetchAllQuestions();\n    } else { alert(\"Reply failed: \" + error.message); }\n  }\n\n  async function handleSendMessage() {\n  // Use refreshSession to prevent \"Expired\" errors\n  const { data: { session } } = await supabase.auth.getSession();\n  let currentUserId = session?.user?.id;\n\n  if (!session?.user) {\n    const { data: refresh } = await supabase.auth.refreshSession();\n    currentUserId = refresh.session?.user?.id;\n  }\n\n  if (!currentUserId) return alert(\"Security session lost. Please log out and log back in.\");\n  if (!messageText || !selectedClass) return alert(\"Enter message text.\");\n\n  const { error } = await supabase.from('class_messages').insert([{\n    class_id: selectedClass.id,\n    sender_id: currentUserId,\n    sender_name: \"Dilshan Uthpala\",\n    message_text: messageText\n  }]);\n\n  if (!error) { \n    setMessageText(\"\"); \n    fetchClassMessages(selectedClass.id); \n  } else { \n    alert(\"Messaging Error: \" + error.message); \n  }\n}\n\n  async function fetchClassMessages(classId: number) {\n    const { data } = await supabase.from('class_messages').select('*').eq('class_id', classId).order('created_at', { ascending: false });\n    setClassMessages(data || []);\n  }\n\n  async function handleAddAdmin() {\n    if (!newStaff.email || !newStaff.password || !newStaff.fullName) return alert(\"Fill all fields\");\n    setLoading(true);\n    const { data: authData, error: authError } = await supabase.auth.signUp({ \n        email: newStaff.email, \n        password: newStaff.password,\n        options: { data: { full_name: newStaff.fullName, role: 'admin' } }\n    });\n    if (authData.user) {\n        const { error } = await supabase.from('profiles').upsert([{ \n          id: authData.user.id, \n          full_name: newStaff.fullName, \n          email: newStaff.email, \n          role: 'admin' \n        }]);\n        if (error) alert(\"DB Error: \" + error.message);\n        else {\n            alert(\"Admin registered!\");\n            setNewStaff({ email: \"\", password: \"\", fullName: \"\" });\n            fetchInitialData();\n        }\n    } else if (authError) { alert(authError.message); }\n    setLoading(false);\n  }\n\n  // Any Admin can call this; RLS will allow it if the target is a student\nasync function removeStudent(id: string) {\n  if (confirm(\"Permanently delete this student account?\")) {\n    const { error } = await supabase.from('profiles').delete().eq('id', id);\n    if (error) alert(\"Delete failed: \" + error.message);\n    else {\n      alert(\"Student removed.\");\n      fetchInitialData(); \n    }\n  }\n}\n\n// RLS will block this unless the logged-in user is lakruwanshashika21@gmail.com\nasync function removeAdmin(id: string) {\n  const { data: { user } } = await supabase.auth.getUser();\n  \n  if (user?.email !== 'lakruwanshashika21@gmail.com') {\n    return alert(\"Access Denied: Only the Super Admin can remove other Admins.\");\n  }\n\n  if (confirm(\"Revoke admin access?\")) { \n    const { error } = await supabase.from('profiles').delete().eq('id', id); \n    if (error) alert(\"Deletion Error: \" + error.message);\n    else fetchInitialData(); \n  }\n}\n\n  async function handleRegisterStudent() {\n  if (!regData.email || !regData.password) return alert(\"Required fields missing\");\n  setLoading(true);\n  \n  try {\n    // 1. Create the Auth Account\n    const { data: authData, error: authError } = await supabase.auth.signUp({ \n      email: regData.email, \n      password: regData.password,\n      options: { \n        data: { \n          full_name: regData.fullName,\n          role: 'student' \n        } \n      }\n    });\n\n    if (authError) throw authError;\n\n    if (authData.user) {\n      // 2. Insert into profiles table\n      const { error: dbError } = await supabase\n        .from('profiles')\n        .insert([{ \n          id: authData.user.id, \n          full_name: regData.fullName, \n          email: regData.email, \n          academic_year: regData.academicYear, \n          phone_number: regData.phoneNumber,\n          role: 'student' // We still save the role, but the DB won't \"check\" it yet\n        }]);\n      \n      if (dbError) throw dbError;\n\n      setIsRegModalOpen(false); \n      fetchInitialData();\n      alert(\"Student enrolled successfully!\");\n    }\n  } catch (err: any) {\n    alert(\"Error: \" + err.message);\n  } finally {\n    setLoading(false);\n  }\n}\n  async function handleCreateClass() {\n    if (!newClass.title || !newClass.year) return alert(\"Fill details\");\n    await supabase.from('classes').insert([newClass]);\n    setNewClass({ title: \"\", year: \"\", type: \"Theory\", class_day: \"\", class_time: \"\", institute_name: \"\", class_category: \"Group\", instructor: \"Dilshan Uthpala\" });\n    fetchInitialData();\n  }\n\n  async function handleUpdateClass() {\n    await supabase.from('classes').update(editClassData).eq('id', editClassData.id);\n    setEditClassData(null); fetchInitialData();\n  }\n\n  async function handleDeleteClass(id: number) {\n    if (confirm(\"Delete class folder?\")) { await supabase.from('classes').delete().eq('id', id); setSelectedClass(null); fetchInitialData(); }\n  }\n\n  async function handleDeleteContent(id: string) {\n    if (confirm(\"Remove material?\")) { await supabase.from('class_content').delete().eq('id', id); fetchFolderContent(); }\n  }\n\n  async function fetchFolderContent() {\n    const { data } = await supabase.from('class_content').select('*').eq('class_id', selectedClass.id);\n    setClassContent(data || []);\n  }\n\n  async function toggleClassAssignment(studentId: string, classId: number) {\n    const { data: existing } = await supabase.from('enrollments').select('*').eq('student_id', studentId).eq('class_id', classId).maybeSingle();\n    if (existing) { await supabase.from('enrollments').delete().eq('student_id', studentId).eq('class_id', classId); }\n    else { await supabase.from('enrollments').insert([{ student_id: studentId, class_id: classId }]); }\n    fetchInitialData();\n  }\n\n  async function handleFileUpload(e: React.ChangeEvent<HTMLInputElement>) {\n    const file = e.target.files?.[0]; if (!file || !selectedClass) return;\n    setUploading(true);\n    try {\n      const cleanName = file.name.replace(/[^a-z0-9.]/gi, '_').toLowerCase();\n      const filePath = `${selectedClass.id}/${Date.now()}_${cleanName}`;\n      const { error } = await supabase.storage.from('class-materials').upload(filePath, file);\n      if (error) throw error;\n      const { data: urlData } = supabase.storage.from('class-materials').getPublicUrl(filePath);\n      setNewContent(prev => ({ ...prev, url: urlData.publicUrl, type: 'note' }));\n    } catch (err) { alert(\"Upload failed\"); } finally { setUploading(false); }\n  }\n\n  async function handleAddContent() {\n    if (!newContent.title || !newContent.url) return alert(\"Fill details\");\n    await supabase.from('class_content').insert([{ ...newContent, class_id: selectedClass.id }]);\n    setNewContent({ title: \"\", url: \"\", type: \"video\" });\n    fetchFolderContent();\n  }\n\n  async function toggleStatus(id: string, field: string, currentVal: boolean) {\n    const { error } = await supabase.from('profiles').update({ [field]: !currentVal }).eq('id', id);\n    if (error) alert(\"Update failed: \" + error.message);\n    else fetchInitialData();\n  }\n\n  async function handlePostNotice() {\n    if (!newNotice.title || !newNotice.content) return alert(\"Fill all fields\");\n    await supabase.from('notices').insert([newNotice]);\n    setNewNotice({ title: \"\", content: \"\" }); fetchInitialData();\n  }\n\n  async function deleteNotice(id: number) {\n    if (confirm(\"Remove notice?\")) { await supabase.from('notices').delete().eq('id', id); fetchInitialData(); }\n  }\n\n  async function fetchExistingResults(classId: number) {\n    const { data } = await supabase.from('exam_results').select('*').eq('class_id', classId).order('created_at', { ascending: false });\n    setExistingResults(data || []);\n  }\n\n  async function fetchStudentsInClass(classId: number) {\n    const { data: enrollData } = await supabase.from('enrollments').select('student_id').eq('class_id', classId);\n    const ids = enrollData?.map(e => e.student_id) || [];\n    if (ids.length > 0) {\n      const { data: profileData } = await supabase.from('profiles').select('*').in('id', ids);\n      setClassStudents(profileData || []);\n    } else setClassStudents([]);\n  }\n\n  async function handleSaveMark(studentId: string, studentName: string, schoolName: string) {\n    const mark = studentMarks[studentId];\n    if (!mark) return alert(\"Enter mark\");\n    await supabase.from('exam_results').insert([{ student_id: studentId, class_id: selectedClass.id, student_name: studentName, school_name: schoolName || \"N/A\", marks: parseFloat(mark), exam_name: examName, is_public: true }]);\n    setStudentMarks(prev => ({...prev, [studentId]: \"\"})); fetchExistingResults(selectedClass.id);\n  }\n\n  async function handleHideFromPublic(resultId: number) {\n    await supabase.from('exam_results').update({ is_public: false }).eq('id', resultId);\n    fetchExistingResults(selectedClass.id);\n  }\n\n  async function handleGalleryUpload(e: React.ChangeEvent<HTMLInputElement>) {\n    const files = e.target.files; if (!files || files.length === 0) return;\n    setUploading(true);\n    for (let i = 0; i < files.length; i++) {\n        const file = files[i]; const cleanName = file.name.replace(/[^a-z0-9.]/gi, '_').toLowerCase();\n        const filePath = `images/${Date.now()}_${cleanName}`;\n        const { error } = await supabase.storage.from('gallery').upload(filePath, file);\n        if (!error) {\n            const { data: urlData } = supabase.storage.from('gallery').getPublicUrl(filePath);\n            setGalleryImages(prev => [...prev, urlData.publicUrl]);\n        }\n    }\n    setUploading(false);\n  }\n\n  async function handleSaveGallery() {\n    if (!newGalleryName || galleryImages.length === 0) return alert(\"Fill details\");\n    await supabase.from('galleries').insert([{ name: newGalleryName, image_urls: galleryImages }]);\n    setNewGalleryName(\"\"); setGalleryImages([]); fetchInitialData();\n  }\n\n  async function handleDeleteGallery(id: number, urls: string[]) {\n    if (confirm(\"Delete gallery?\")) { await supabase.from('galleries').delete().eq('id', id); fetchInitialData(); }\n  }\n\n  if (loading) return <div className=\"h-screen flex items-center justify-center font-bold text-slate-900 italic\">Syncing Admin Hub...</div>;\n\n  return (\n    <div className=\"flex h-screen bg-[#F8FAFC] text-foreground\">\n      <aside className=\"w-72 border-r bg-white p-6 flex flex-col shadow-sm\">\n        <div className=\"mb-8 px-2\">\n            <h2 className=\"text-2xl font-black text-slate-800 tracking-tighter uppercase italic leading-none\">Logic Admin</h2>\n            <p className=\"text-[9px] font-bold text-teal-600 mt-2 tracking-widest uppercase\">මොළ හදන ලොජික් පන්තිය</p>\n        </div>\n        \n        <nav className=\"space-y-1 flex-1\">\n          <Button variant={activeView === 'classes' ? 'default' : 'ghost'} className=\"w-full justify-start gap-3 rounded-xl h-11 font-bold\" onClick={() => { setActiveView('classes'); setSelectedClass(null); }}>\n            <FolderPlus size={18} /> Course Folders\n          </Button>\n          <Button variant={activeView === 'students' ? 'default' : 'ghost'} className=\"w-full justify-start gap-3 rounded-xl h-11 font-bold\" onClick={() => setActiveView('students')}>\n            <Users size={18} /> Student Access\n          </Button>\n          <Button variant={activeView === 'inquiries' ? 'default' : 'ghost'} className=\"w-full justify-start gap-3 rounded-xl h-11 font-bold\" onClick={() => setActiveView('inquiries')}>\n            <HelpCircle size={18} /> Student Inquiries\n          </Button>\n          <Button variant={activeView === 'notices' ? 'default' : 'ghost'} className=\"w-full justify-start gap-3 rounded-xl h-11 font-bold\" onClick={() => setActiveView('notices')}>\n            <Bell size={18} /> Notice Board\n          </Button>\n          <Button variant={activeView === 'gallery' ? 'default' : 'ghost'} className=\"w-full justify-start gap-3 rounded-xl h-11 font-bold\" onClick={() => setActiveView('gallery')}>\n            <ImageIcon size={18} /> Gallery Card\n          </Button>\n          <div className=\"h-px bg-zinc-100 my-4\" />\n          <Button variant={activeView === 'staff' ? 'default' : 'ghost'} className=\"w-full justify-start gap-3 rounded-xl h-11 font-bold\" onClick={() => setActiveView('staff')}>\n            <ShieldCheck size={18} /> Staff Details\n          </Button>\n        </nav>\n        <Button variant=\"outline\" className=\"w-full rounded-xl border-2 font-black uppercase text-xs tracking-widest\" onClick={() => onNavigate('home')}>Exit Portal</Button>\n      </aside>\n\n      <main className=\"flex-1 p-10 overflow-auto\">\n        {/* STUDENT ACCESS VIEW */}\n        {activeView === 'students' && (\n          <div className=\"max-w-6xl mx-auto space-y-6\">\n            <header className=\"flex justify-between items-center\"><h1 className=\"text-4xl font-black italic tracking-tighter uppercase text-slate-800\">Student Access</h1><Button className=\"bg-blue-700 h-12 px-6 rounded-xl font-bold text-white shadow-lg\" onClick={() => setIsRegModalOpen(true)}><UserPlus className=\"mr-2\"/> Enroll Student</Button></header>\n            <Card className=\"shadow-sm p-4 flex items-center gap-3 rounded-2xl border bg-white\"><Search className=\"text-slate-400 size-5\" /><Input placeholder=\"Search students...\" className=\"border-none shadow-none focus-visible:ring-0 text-lg\" value={searchQuery} onChange={(e) => setSearchQuery(e.target.value)} /></Card>\n            <Card className=\"shadow-md border-none rounded-3xl overflow-hidden bg-white\">\n              <Table>\n                <TableHeader className=\"bg-zinc-950\"><TableRow>\n                  <TableHead className=\"text-white font-bold py-5 pl-8\">Student Detail</TableHead>\n                  <TableHead className=\"text-white font-bold\">Contact Info</TableHead>\n                  <TableHead className=\"text-white font-bold\">Access Folders</TableHead>\n                  <TableHead className=\"text-white font-bold text-center\">Fee Status</TableHead>\n                  <TableHead className=\"text-white text-right pr-8 font-bold\">Manage</TableHead>\n                </TableRow></TableHeader>\n                <TableBody>\n                  {filteredStudents.map((s) => (\n                    <TableRow key={s.id} className={s.is_suspended ? \"opacity-50 grayscale\" : \"border-zinc-50\"}>\n                      <TableCell className=\"py-6 pl-8\">\n                        <div className=\"font-black uppercase text-sm text-slate-800\">{s.full_name}</div>\n                        <div className=\"text-[10px] text-slate-400 font-bold italic lowercase\">{s.academic_year || \"---\"} Exam Year</div>\n                      </TableCell>\n                      <TableCell>\n                         <div className=\"flex flex-col\">\n                            <div className=\"flex items-center gap-1.5 font-bold text-slate-600 text-xs\"><Phone size={12} className=\"text-teal-600\"/> {s.phone_number || \"N/A\"}</div>\n                            <div className=\"text-[10px] text-slate-400 font-medium lowercase\">{s.email}</div>\n                         </div>\n                      </TableCell>\n                      <TableCell><div className=\"flex gap-1 flex-wrap\">{s.enrolled_folders?.map((f:any, i:number) => (<Badge key={i} className=\"bg-blue-50 text-blue-700 border-none text-[9px] font-black uppercase\">{f.year} {f.title}</Badge>)) || <span className=\"text-xs text-slate-300 italic\">None</span>}</div></TableCell>\n                      <TableCell className=\"text-center\"><Button variant=\"ghost\" size=\"sm\" onClick={() => toggleStatus(s.id, 'is_paid', s.is_paid)} className={`rounded-full px-4 h-8 font-black text-[10px] tracking-widest ${s.is_paid ? 'bg-emerald-50 text-emerald-600' : 'bg-rose-50 text-rose-600'}`}>{s.is_paid ? 'PAID' : 'PENDING'}</Button></TableCell>\n                      <TableCell className=\"text-right pr-8\">\n                        <DropdownMenu><DropdownMenuTrigger asChild><Button variant=\"ghost\" size=\"icon\" className=\"rounded-full\"><MoreVertical size={18}/></Button></DropdownMenuTrigger><DropdownMenuContent align=\"end\" className=\"w-56 p-2 rounded-2xl shadow-2xl\">\n                          {classes.map(c => { const isEnrolled = s.enrolled_folders?.some((f: any) => f.id === c.id); return (<DropdownMenuItem key={c.id} onClick={() => toggleClassAssignment(s.id, c.id)} className=\"flex justify-between items-center text-xs font-bold px-3\"><span>{c.year} {c.title}</span>{isEnrolled && <Check size={14} className=\"text-blue-600\" />}</DropdownMenuItem>); })}\n                          <div className=\"h-px bg-slate-100 my-2\" /><DropdownMenuItem className=\"gap-2 font-bold\" onClick={() => toggleStatus(s.id, 'is_suspended', s.is_suspended)}><Ban size={16}/> {s.is_suspended ? 'Activate' : 'Suspend'}</DropdownMenuItem><DropdownMenuItem className=\"text-red-600 gap-2 font-bold\" onClick={() => removeStudent(s.id)}><Trash2 size={16}/> Delete Account</DropdownMenuItem>\n                        </DropdownMenuContent></DropdownMenu>\n                      </TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </Card>\n          </div>\n        )}\n\n        {/* STAFF DETAILS VIEW */}\n        {activeView === 'staff' && (\n            <div className=\"max-w-4xl mx-auto space-y-8 animate-in fade-in duration-500\">\n                <header><h1 className=\"text-4xl font-black italic tracking-tighter text-slate-800 uppercase leading-none\">Administrators</h1></header>\n                <Card className=\"p-8 rounded-[2.5rem] shadow-xl border-none bg-white\">\n                    <div className=\"grid grid-cols-3 gap-4 items-end\">\n                        <div className=\"space-y-1\"><Label>Full Name</Label><Input value={newStaff.fullName} onChange={e => setNewStaff({...newStaff, fullName: e.target.value})} /></div>\n                        <div className=\"space-y-1\"><Label>Email</Label><Input value={newStaff.email} onChange={e => setNewStaff({...newStaff, email: e.target.value})} /></div>\n                        <div className=\"space-y-1\"><Label>Password</Label><Input type=\"password\" value={newStaff.password} onChange={e => setNewStaff({...newStaff, password: e.target.value})} /></div>\n                    </div>\n                    <Button className=\"w-full mt-6 py-6 font-black uppercase text-xs tracking-widest bg-slate-900 text-white rounded-2xl\" onClick={handleAddAdmin}>Register New Admin</Button>\n                </Card>\n                <Card className=\"rounded-[2.5rem] overflow-hidden border-none shadow-md bg-white\">\n                    <Table>\n                        <TableHeader className=\"bg-slate-900\"><TableRow>\n                            <TableHead className=\"text-white py-6 pl-10 font-black uppercase text-[10px] tracking-widest\">Admin Name</TableHead>\n                            <TableHead className=\"text-white text-right pr-10 font-black uppercase text-[10px] tracking-widest\">Actions</TableHead>\n                        </TableRow></TableHeader>\n                        <TableBody>\n                            {staff.map(s => (\n                                <TableRow key={s.id} className=\"border-slate-50 hover:bg-slate-50\">\n                                    <TableCell className=\"py-6 pl-10\">\n                                        <div className=\"font-black uppercase text-sm italic\">{s.full_name}</div>\n                                        <div className=\"text-[10px] font-bold text-slate-400\">{s.email}</div>\n                                    </TableCell>\n                                    <TableCell className=\"text-right pr-10\"><Button variant=\"ghost\" className=\"text-rose-500 font-black text-[10px] uppercase\" onClick={() => removeAdmin(s.id)}>Revoke</Button></TableCell>\n                                </TableRow>\n                            ))}\n                        </TableBody>\n                    </Table>\n                </Card>\n            </div>\n        )}\n\n        {/* INQUIRIES VIEW */}\n        {activeView === 'inquiries' && (\n            <div className=\"max-w-5xl mx-auto space-y-8 animate-in fade-in duration-500\">\n                <header><h1 className=\"text-4xl font-black italic tracking-tighter text-slate-800 uppercase leading-none\">Student Inquiries</h1></header>\n                <div className=\"grid gap-6\">\n                    {allQuestions.map(q => (\n                        <Card key={q.id} className={`p-6 rounded-[2rem] border-none shadow-xl bg-white ${!q.is_resolved ? 'ring-2 ring-teal-500' : ''}`}>\n                            <div className=\"flex justify-between items-start mb-4\">\n                                <div><h3 className=\"font-black text-slate-800 uppercase text-lg\">{q.student_name}</h3><p className=\"text-[10px] font-bold text-slate-400\">{new Date(q.created_at).toLocaleString()}</p></div>\n                                {q.is_resolved ? <Badge className=\"bg-teal-500 text-white\">Replied</Badge> : <Badge className=\"bg-rose-500 text-white animate-pulse\">Pending</Badge>}\n                            </div>\n                            <p className=\"text-slate-600 font-medium mb-6 bg-slate-50 p-4 rounded-2xl border\">Q: {q.question_text}</p>\n                            {!q.is_resolved ? (\n                                <div className=\"flex gap-2\">\n                                    <Input placeholder=\"Type your reply...\" className=\"h-12 rounded-xl\" value={replyText[q.id] || \"\"} onChange={(e) => setReplyText({...replyText, [q.id]: e.target.value})} />\n                                    <Button onClick={() => submitReply(q.id)} className=\"bg-teal-600 h-12 px-8 rounded-xl font-bold uppercase text-xs tracking-widest text-white\">Deliver Reply</Button>\n                                </div>\n                            ) : (\n                                <div className=\"p-4 bg-teal-50 rounded-2xl border border-teal-100\"><p className=\"text-[10px] font-black text-teal-700 uppercase mb-1\">Reply:</p><p className=\"text-sm font-medium text-slate-700 italic\">\"{q.admin_reply}\"</p></div>\n                            )}\n                        </Card>\n                    ))}\n                    {allQuestions.length === 0 && <div className=\"py-20 text-center text-slate-300 font-bold uppercase tracking-widest italic border-4 border-dashed rounded-[3rem]\">No student questions found.</div>}\n                </div>\n            </div>\n        )}\n\n        {/* FOLDER DETAILS (MESSAGING & CONTENT) */}\n        {activeView === 'classes' && selectedClass && (\n          <div className=\"max-w-6xl mx-auto space-y-6\">\n            <Button variant=\"ghost\" onClick={() => setSelectedClass(null)} className=\"gap-2 font-bold\"><ChevronLeft size={16}/> Folders</Button>\n            <div className=\"flex justify-between items-center bg-white p-8 rounded-[2.5rem] border shadow-sm\">\n                <div><h1 className=\"text-4xl font-black italic uppercase tracking-tighter text-slate-800\">{selectedClass.title}</h1><p className=\"text-teal-600 font-bold uppercase text-[10px] tracking-widest\">{selectedClass.institute_name} • {selectedClass.year}</p></div>\n                <div className=\"flex gap-2\"><Button variant=\"outline\" className=\"rounded-xl font-bold\" onClick={() => setEditClassData(selectedClass)}><Pencil className=\"mr-2 size-4\"/> Edit</Button><Button variant=\"destructive\" size=\"icon\" className=\"rounded-xl\" onClick={() => handleDeleteClass(selectedClass.id)}><Trash2 size={18}/></Button></div>\n            </div>\n            <div className=\"grid md:grid-cols-2 gap-8\">\n              <div className=\"space-y-8\">\n                <Card className=\"p-6 rounded-[2.5rem] bg-white shadow-xl border-t-8 border-slate-900\">\n                    <CardTitle className=\"flex gap-2 items-center mb-4 italic uppercase text-lg text-slate-800\"><MessageSquare size={20}/> Message Enrolled Students</CardTitle>\n                    <Textarea placeholder=\"Post an update...\" className=\"mb-4 rounded-2xl bg-slate-50 border-none p-4 font-medium\" value={messageText} onChange={(e) => setMessageText(e.target.value)} />\n                    <Button className=\"w-full font-black uppercase text-xs tracking-widest bg-teal-600 text-white h-14 rounded-2xl shadow-lg\" onClick={handleSendMessage}><Send size={14} className=\"mr-2\"/> Post Message</Button>\n                    <div className=\"mt-8 space-y-3 max-h-64 overflow-y-auto pr-2 custom-scrollbar\">\n                        {classMessages.map(m => (\n                            <div key={m.id} className=\"p-4 bg-slate-50 rounded-2xl border\">\n                                <div className=\"flex justify-between text-[9px] font-black text-slate-400 uppercase mb-1\"><span>{m.sender_name}</span><span>{new Date(m.created_at).toLocaleDateString()}</span></div>\n                                <p className=\"text-sm font-medium text-slate-700\">{m.message_text}</p>\n                            </div>\n                        ))}\n                    </div>\n                </Card>\n                <Card className=\"p-6 rounded-[2.5rem] bg-white shadow-md space-y-4\">\n                  <CardTitle className=\"flex gap-2 items-center italic uppercase text-lg text-slate-800\"><Upload size={20}/> Upload Materials</CardTitle>\n                  <Input placeholder=\"Title\" className=\"h-12 rounded-xl\" value={newContent.title} onChange={e => setNewContent({...newContent, title: e.target.value})} />\n                  {newContent.type === 'video' ? (<Input placeholder=\"Link\" className=\"h-12 rounded-xl\" value={newContent.url} onChange={e => setNewContent({...newContent, url: e.target.value})} />) : (<div className=\"border-2 border-dashed p-6 rounded-[1.5rem] text-center bg-slate-50 relative\"><input type=\"file\" className=\"absolute inset-0 opacity-0 cursor-pointer\" id=\"file-up\" onChange={handleFileUpload} /><Label htmlFor=\"file-up\" className=\"cursor-pointer font-black uppercase text-[10px] tracking-widest text-slate-400\">{uploading ? \"Wait...\" : (newContent.url ? \"File Attached ✅\" : \"Select PDF\")}</Label></div>)}\n                  <div className=\"flex gap-2 pt-2\"><Button variant={newContent.type === 'video' ? 'default' : 'outline'} className=\"flex-1 rounded-xl\" onClick={() => setNewContent(p => ({...p, type: 'video', url: ''}))}>Video URL</Button><Button variant={newContent.type === 'note' ? 'default' : 'outline'} className=\"flex-1 rounded-xl\" onClick={() => setNewContent(p => ({...p, type: 'note', url: ''}))}>PDF Handout</Button></div>\n                  <Button className=\"w-full py-7 font-black uppercase text-xs tracking-widest bg-slate-900 text-white rounded-2xl shadow-xl\" onClick={handleAddContent} disabled={uploading}>Confirm Upload</Button>\n                </Card>\n              </div>\n              <div className=\"space-y-8\">\n                <Card className=\"p-8 rounded-[2.5rem] bg-white shadow-md border-none\">\n                    <CardTitle className=\"mb-6 italic uppercase text-lg text-slate-800 flex justify-between\">Folder Content <Badge className=\"bg-slate-100 text-slate-500 border-none font-bold\">{classContent.length}</Badge></CardTitle>\n                    <Table><TableBody>{classContent.map(item => (\n                        <TableRow key={item.id} className=\"group border-slate-50 hover:bg-slate-50\"><TableCell className=\"py-4 font-black uppercase text-xs tracking-tight text-slate-700\"><div className=\"flex items-center gap-3\"><div className={`p-2 rounded-lg ${item.type === 'video' ? 'bg-blue-50 text-blue-500' : 'bg-orange-50 text-orange-500'}`}>{item.type === 'video' ? <Video size={16}/> : <FileText size={16}/>}</div>{item.title}</div></TableCell><TableCell><a href={item.url} target=\"_blank\" className=\"p-2 bg-slate-100 rounded-lg inline-block hover:bg-teal-500 text-slate-700 transition-all\"><ExternalLink size={14}/></a></TableCell><TableCell className=\"text-right pr-0\"><Button variant=\"ghost\" size=\"icon\" className=\"text-rose-500 opacity-0 group-hover:opacity-100 transition-all\" onClick={() => handleDeleteContent(item.id)}><Trash2 size={16}/></Button></TableCell></TableRow>\n                    ))}</TableBody></Table>\n                 </Card>\n                 <Card className=\"p-8 rounded-[2.5rem] bg-white shadow-xl\">\n                    <CardTitle className=\"flex items-center gap-2 italic uppercase text-lg text-slate-800 mb-6\"><Trophy className=\"text-yellow-500\"/> Marks Console</CardTitle>\n                    <div className=\"mb-6 p-4 bg-slate-50 rounded-2xl border border-dashed border-teal-500/30\">\n                        <Label className=\"text-[9px] font-black uppercase text-teal-600 tracking-widest ml-1\">Current Exam</Label>\n                        <Input placeholder=\"Unit Test #01\" value={examName} onChange={e => setExamName(e.target.value)} className=\"mt-1 font-black uppercase h-12 bg-white border-none shadow-sm\"/>\n                    </div>\n                    <Table>\n                        <TableHeader><TableRow className=\"hover:bg-transparent\"><TableHead className=\"font-black uppercase text-[10px]\">Student</TableHead><TableHead className=\"font-black uppercase text-[10px]\">Score %</TableHead><TableHead className=\"text-right font-black uppercase text-[10px]\">Action</TableHead></TableRow></TableHeader>\n                        <TableBody>\n                            {classStudents.map(student => {\n                                const res = existingResults.find(r => r.student_id === student.id);\n                                return (\n                                    <TableRow key={student.id} className=\"border-slate-50\">\n                                        <TableCell className=\"font-bold text-xs uppercase text-slate-700\">{student.full_name}</TableCell>\n                                        <TableCell><Input type=\"number\" className=\"w-16 h-10 font-black text-teal-600 bg-slate-50 border-none shadow-inner\" placeholder=\"0\" value={studentMarks[student.id] || \"\"} onChange={(e) => setStudentMarks({...studentMarks, [student.id]: e.target.value})} /></TableCell>\n                                        <TableCell className=\"text-right flex gap-1 justify-end pt-5\">\n                                            <Button size=\"sm\" variant=\"outline\" className=\"h-10 px-4 rounded-xl font-bold uppercase text-[10px] border-2\" onClick={() => handleSaveMark(student.id, student.full_name, student.school_name)}>Add</Button>\n                                            {res && res.is_public && ( <Button size=\"sm\" variant=\"ghost\" className=\"h-10 w-10 p-0\" onClick={() => handleHideFromPublic(res.id)}><EyeOff size={14} className=\"text-rose-500\"/></Button> )}\n                                        </TableCell>\n                                    </TableRow>\n                                );\n                            })}\n                        </TableBody>\n                    </Table>\n                </Card>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* DEFAULT VIEW: COURSE FOLDERS LIST */}\n        {activeView === 'classes' && !selectedClass && (\n          <div className=\"space-y-6\">\n            <h1 className=\"text-4xl font-black italic tracking-tighter text-slate-800 uppercase leading-none\">Course Management</h1>\n            <Card className=\"p-8 border-dashed border-2 bg-white/50 rounded-[2.5rem]\">\n                <div className=\"grid md:grid-cols-3 gap-6\">\n                  <div className=\"space-y-1\"><Label>Year</Label><Input placeholder=\"2026\" value={newClass.year} onChange={e => setNewClass({...newClass, year: e.target.value})} /></div>\n                  <div className=\"space-y-1\"><Label>Course Name</Label><Input placeholder=\"Logic\" value={newClass.title} onChange={e => setNewClass({...newClass, title: e.target.value})} /></div>\n                  <div className=\"space-y-1\"><Label>Institute</Label><Input placeholder=\"Sakya\" value={newClass.institute_name} onChange={e => setNewClass({...newClass, institute_name: e.target.value})} /></div>\n                  <div className=\"space-y-1\"><Label>Type</Label><select className=\"flex h-10 w-full rounded-md border bg-white px-3 py-2 text-sm\" value={newClass.type} onChange={e => setNewClass({...newClass, type: e.target.value})}><option value=\"Theory\">Theory</option><option value=\"Revision\">Revision</option></select></div>\n                  <div className=\"space-y-1\"><Label>Category</Label><select className=\"flex h-10 w-full rounded-md border bg-white px-3 py-2 text-sm\" value={newClass.class_category} onChange={e => setNewClass({...newClass, class_category: e.target.value})}><option value=\"Group\">Group Class</option><option value=\"Hall\">Hall Class</option></select></div>\n                  <div className=\"space-y-1\"><Label>Day</Label><Input placeholder=\"Sunday\" value={newClass.class_day} onChange={e => setNewClass({...newClass, class_day: e.target.value})} /></div>\n                  <div className=\"space-y-1\"><Label>Time</Label><Input placeholder=\"8:30 AM\" value={newClass.class_time} onChange={e => setNewClass({...newClass, class_time: e.target.value})} /></div>\n                  <Button onClick={handleCreateClass} className=\"w-full mt-auto py-6 font-black uppercase text-xs tracking-widest bg-slate-900 text-white rounded-2xl shadow-xl\">Create New Folder</Button>\n                </div>\n            </Card>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8 pt-10\">\n              {classes.map(c => (\n                <Card key={c.id} className=\"hover:border-teal-500 cursor-pointer transition-all shadow-xl group relative rounded-[2.5rem] overflow-hidden bg-white border border-slate-100\" onClick={() => setSelectedClass(c)}>\n                  <CardHeader className=\"p-8\"><Badge variant=\"secondary\" className=\"w-fit mb-3 font-bold\">{c.year} {c.type}</Badge><CardTitle className=\"text-2xl font-black italic uppercase tracking-tighter text-slate-800 leading-tight\">{c.title}</CardTitle><div className=\"mt-4 space-y-1 text-slate-500\"><p className=\"flex items-center gap-2 text-sm font-bold\"><School size={14} className=\"text-teal-600\"/> {c.institute_name}</p><p className=\"flex items-center gap-2 text-xs font-medium\"><Clock size={14}/> {c.class_day} @ {c.class_time}</p></div></CardHeader>\n                </Card>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* GALLARY VIEW */}\n        {activeView === 'gallery' && (\n          <div className=\"max-w-6xl mx-auto space-y-10\">\n            <h1 className=\"text-4xl font-black italic tracking-tighter uppercase text-slate-800\">Visual Archive</h1>\n            <Card className=\"p-8 border-dashed border-2 rounded-[2rem] bg-white\">\n              <div className=\"grid md:grid-cols-2 gap-8\">\n                <div className=\"space-y-4\">\n                  <div className=\"space-y-1\"><Label>Album Name</Label><Input value={newGalleryName} onChange={e => setNewGalleryName(e.target.value)} /></div>\n                  <div className=\"border-2 border-dashed rounded-xl p-8 text-center bg-zinc-50 relative\">\n                    <input type=\"file\" multiple className=\"absolute inset-0 opacity-0 cursor-pointer\" onChange={handleGalleryUpload}/>\n                    <ImageIcon className=\"mx-auto size-10 text-zinc-400 mb-2\"/>\n                    <p className=\"font-bold text-slate-400 uppercase text-xs tracking-widest\">{uploading ? \"Uploading...\" : \"Click to Add Images\"}</p>\n                  </div>\n                  <Button className=\"w-full py-6 bg-slate-900 text-white rounded-2xl shadow-xl font-bold uppercase tracking-widest\" onClick={handleSaveGallery}>Save to Gallery</Button>\n                </div>\n                <div className=\"grid grid-cols-4 gap-2 h-fit\">\n                   {galleryImages.map((img, i) => ( <img key={i} src={img} className=\"size-20 object-cover rounded-xl border shadow-sm\"/> ))}\n                </div>\n              </div>\n            </Card>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 pt-10\">\n              {galleries.map((gal) => (\n                <Card key={gal.id} className=\"relative group overflow-hidden rounded-[2.5rem] shadow-xl border-none\">\n                  <img src={gal.image_urls[0]} className=\"h-56 w-full object-cover transition-transform group-hover:scale-110 duration-700\"/>\n                  <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex flex-col justify-end p-8\"><h3 className=\"text-white font-black uppercase italic text-xl\">{gal.name}</h3></div>\n                  <Button variant=\"destructive\" size=\"icon\" className=\"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-all rounded-full shadow-lg\" onClick={() => handleDeleteGallery(gal.id, gal.image_urls)}><Trash2 size={16}/></Button>\n                </Card>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* NOTICES VIEW */}\n        {activeView === 'notices' && (\n          <div className=\"max-w-4xl mx-auto space-y-8 animate-in fade-in duration-500\">\n            <header><h1 className=\"text-4xl font-black italic tracking-tighter uppercase text-slate-800\">Public Announcements</h1></header>\n            <Card className=\"p-8 rounded-[2.5rem] shadow-xl border-none bg-white\">\n              <div className=\"space-y-4\">\n                <div className=\"space-y-1\"><Label>Notice Subject</Label><Input value={newNotice.title} onChange={e => setNewNotice({...newNotice, title: e.target.value})} /></div>\n                <div className=\"space-y-1\"><Label>Content</Label><Textarea rows={4} value={newNotice.content} onChange={e => setNewNotice({...newNotice, content: e.target.value})} /></div>\n                <Button className=\"w-full py-6 font-black bg-slate-900 text-white rounded-2xl shadow-lg\" onClick={handlePostNotice}>Deploy to Portal</Button>\n              </div>\n            </Card>\n            <div className=\"grid gap-4\">\n              {notices.map(nt => (\n                <Card key={nt.id} className=\"p-6 rounded-3xl flex justify-between items-center shadow-sm border-none bg-white\">\n                  <div><h3 className=\"font-black uppercase italic tracking-tight\">{nt.title}</h3><p className=\"text-[10px] text-zinc-400 font-bold mb-2\">{new Date(nt.created_at).toLocaleString()}</p><p className=\"text-sm text-zinc-500 max-w-xl leading-relaxed\">{nt.content}</p></div>\n                  <Button variant=\"ghost\" size=\"icon\" className=\"text-rose-500 rounded-full hover:bg-rose-50\" onClick={() => deleteNotice(nt.id)}><Trash2 size={18}/></Button>\n                </Card>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* REGISTRATION MODAL */}\n        <Dialog open={isRegModalOpen} onOpenChange={setIsRegModalOpen}>\n            <DialogContent className=\"rounded-[2.5rem] max-w-lg p-12 border-none shadow-2xl bg-white\">\n                <DialogHeader className=\"mb-6\"><DialogTitle className=\"text-3xl font-black italic tracking-tighter uppercase text-slate-800\">Enroll Student</DialogTitle><DialogDescription className=\"font-bold text-slate-400 uppercase text-[10px] tracking-widest\">Initialize a new logic portal account.</DialogDescription></DialogHeader>\n                <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"col-span-2 space-y-1\"><Label>Full Name</Label><Input value={regData.fullName} onChange={e => setRegData({...regData, fullName: e.target.value})} /></div>\n                    <div className=\"space-y-1\"><Label>Email Address</Label><Input value={regData.email} onChange={e => setRegData({...regData, email: e.target.value})} /></div>\n                    <div className=\"space-y-1\"><Label>Password</Label><Input type=\"password\" value={regData.password} onChange={e => setRegData({...regData, password: e.target.value})} /></div>\n                    \n                    <div className=\"space-y-1\"><Label>Exam Year</Label><Input placeholder=\"e.g. 2026\" value={regData.academicYear} onChange={e => setRegData({...regData, academicYear: e.target.value})} /></div>\n                    \n                    <div className=\"space-y-1\"><Label>Phone Number</Label><Input value={regData.phoneNumber} onChange={e => setRegData({...regData, phoneNumber: e.target.value})} /></div>\n                    <div className=\"col-span-2 space-y-1\"><Label>School Name</Label><Input value={regData.schoolName} onChange={e => setRegData({...regData, schoolName: e.target.value})} /></div>\n                </div>\n                <Button className=\"w-full py-7 font-black uppercase text-xs tracking-widest bg-slate-900 text-white rounded-2xl mt-6 shadow-xl\" onClick={handleRegisterStudent}>Create & Authenticate</Button>\n            </DialogContent>\n        </Dialog>\n        \n        {editClassData && (<Dialog open={!!editClassData} onOpenChange={() => setEditClassData(null)}><DialogContent className=\"rounded-3xl max-w-lg p-12 shadow-2xl border-none bg-white\"><DialogHeader><DialogTitle className=\"text-2xl font-black italic uppercase text-slate-800\">Modify Folder</DialogTitle></DialogHeader><div className=\"grid grid-cols-2 gap-4 py-4\"><div className=\"col-span-2 space-y-1\"><Label className=\"text-[10px] font-black uppercase text-slate-400 tracking-widest\">Title</Label><Input value={editClassData.title || \"\"} onChange={e => setEditClassData({...editClassData, title: e.target.value})} /></div><div className=\"space-y-1\"><Label className=\"text-[10px] font-black uppercase text-slate-400 tracking-widest\">Year</Label><Input value={editClassData.year || \"\"} onChange={e => setEditClassData({...editClassData, year: e.target.value})} /></div><div className=\"space-y-1\"><Label className=\"text-[10px] font-black uppercase text-slate-400 tracking-widest\">Institute</Label><Input value={editClassData.institute_name || \"\"} onChange={e => setEditClassData({...editClassData, institute_name: e.target.value})} /></div><div className=\"space-y-1\"><Label className=\"text-[10px] font-black uppercase text-slate-400 tracking-widest\">Day</Label><Input value={editClassData.class_day || \"\"} onChange={e => setEditClassData({...editClassData, class_day: e.target.value})} /></div><div className=\"space-y-1\"><Label className=\"text-[10px] font-black uppercase text-slate-400 tracking-widest\">Time</Label><Input value={editClassData.class_time || \"\"} onChange={e => setEditClassData({...editClassData, class_time: e.target.value})} /></div><div className=\"space-y-1\"><Label className=\"text-[10px] font-black uppercase text-slate-400 tracking-widest\">Type</Label><select className=\"flex h-10 w-full rounded-md border bg-white px-3 py-2 text-sm\" value={editClassData.type || \"\"} onChange={e => setEditClassData({...editClassData, type: e.target.value})}><option value=\"Theory\">Theory</option><option value=\"Revision\">Revision</option></select></div><div className=\"space-y-1\"><Label className=\"text-[10px] font-black uppercase text-slate-400 tracking-widest\">Category</Label><select className=\"flex h-10 w-full rounded-md border bg-white px-3 py-2 text-sm\" value={editClassData.class_category || \"\"} onChange={e => setEditClassData({...editClassData, class_category: e.target.value})}><option value=\"Group\">Group Class</option><option value=\"Hall\">Hall Class</option></select></div></div><Button onClick={handleUpdateClass} className=\"w-full py-7 font-black bg-slate-900 text-white rounded-2xl uppercase text-[10px] tracking-widest\">Commit Changes</Button></DialogContent></Dialog>)}\n      </main>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7210, "column": 0}, "map": {"version":3,"sources":["file:///E:/Project/Educational%20Platform%20Design/my-lms-project/src/app/components/AdminLogin.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { supabase } from \"@/lib/supabase\";\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"./ui/card\";\r\nimport { Button } from \"./ui/button\";\r\nimport { Input } from \"./ui/input\";\r\nimport { Label } from \"./ui/label\";\r\nimport { ShieldCheck, Loader2, AlertCircle, ChevronLeft, Lock, Mail } from \"lucide-react\";\r\n\r\nexport function AdminLogin({ onNavigate }: { onNavigate: (page: string) => void }) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [resetLoading, setResetLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const handleLogin = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    const cleanEmail = email.trim().toLowerCase();\r\n\r\n    try {\r\n      // 1. Authenticate with Supabase Auth\r\n      const { data: authData, error: authError } = await supabase.auth.signInWithPassword({\r\n        email: cleanEmail,\r\n        password,\r\n      });\r\n\r\n      if (authError) throw authError;\r\n\r\n      // 2. SUPER ADMIN BYPASS: If it's you, skip the database role check\r\n      if (cleanEmail === 'lakruwanshashika21@gmail.com') {\r\n        onNavigate('admin');\r\n        return;\r\n      }\r\n\r\n      // 3. Standard Verify Admin Role in the profiles table for other staff\r\n      const { data: profile, error: profileError } = await supabase\r\n        .from('profiles')\r\n        .select('role')\r\n        .eq('id', authData.user.id)\r\n        .single();\r\n\r\n      if (profileError || profile?.role !== 'admin') {\r\n        await supabase.auth.signOut();\r\n        throw new Error(\"Access denied. Authorized personnel only.\");\r\n      }\r\n\r\n      // 4. Success - Navigate to Dashboard\r\n      onNavigate('admin');\r\n    } catch (err: any) {\r\n      // Handle the \"Status 500\" or RLS errors gracefully\r\n      if (err.message?.includes('500') || err.code === 'PGRST301') {\r\n        setError(\"Server Sync Error. If you are the Super Admin, please refresh and try once more.\");\r\n      } else {\r\n        setError(err.message);\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleForgotPassword = async () => {\r\n    if (!email) {\r\n      alert(\"Please enter your admin email first.\");\r\n      return;\r\n    }\r\n    setResetLoading(true);\r\n    try {\r\n      const { error } = await supabase.auth.resetPasswordForEmail(email.trim(), {\r\n        redirectTo: `${window.location.origin}/#type=recovery`,\r\n      });\r\n      if (error) throw error;\r\n      alert(\"Admin recovery link sent to your inbox.\");\r\n    } catch (err: any) {\r\n      alert(err.message);\r\n    } finally {\r\n      setResetLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-[#F8FAFC] p-6 relative\">\r\n      <Button \r\n        variant=\"ghost\" \r\n        className=\"absolute top-8 left-8 gap-2 font-bold text-zinc-500 hover:text-slate-900 transition-colors\"\r\n        onClick={() => onNavigate('home')}\r\n      >\r\n        <ChevronLeft size={18} /> Exit Portal\r\n      </Button>\r\n\r\n      <Card className=\"w-full max-w-md rounded-[2.5rem] shadow-2xl border-none bg-white overflow-hidden\">\r\n        <div className=\"h-3 bg-slate-900 w-full\" />\r\n        \r\n        <CardHeader className=\"pt-10 pb-6 text-center\">\r\n          <div className=\"size-20 bg-slate-900/5 rounded-[1.5rem] flex items-center justify-center mx-auto mb-6\">\r\n            <ShieldCheck className=\"text-slate-900 size-12\" />\r\n          </div>\r\n          <CardTitle className=\"text-4xl font-black italic uppercase tracking-tighter text-slate-800\">\r\n            Admin Login\r\n          </CardTitle>\r\n          <CardDescription className=\"font-bold text-zinc-400 uppercase text-[10px] tracking-widest mt-2\">\r\n            Secure Infrastructure Access\r\n          </CardDescription>\r\n        </CardHeader>\r\n\r\n        <CardContent className=\"px-10 pb-12\">\r\n          <form onSubmit={handleLogin} className=\"space-y-5\">\r\n            <div className=\"space-y-2\">\r\n              <Label className=\"text-[11px] font-black uppercase tracking-widest ml-1 text-zinc-400\">\r\n                Admin Email\r\n              </Label>\r\n              <div className=\"relative\">\r\n                <Mail className=\"absolute left-4 top-1/2 -translate-y-1/2 size-5 text-zinc-400\" />\r\n                <Input \r\n                  type=\"email\" \r\n                  placeholder=\"admin@logic.com\" \r\n                  className=\"pl-12 h-14 rounded-2xl bg-zinc-50 border-none focus-visible:ring-2 ring-slate-900 transition-all text-base\" \r\n                  value={email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <div className=\"flex justify-between items-center px-1\">\r\n                <Label className=\"text-[11px] font-black uppercase tracking-widest text-zinc-400\">\r\n                  Password\r\n                </Label>\r\n                <button \r\n                  type=\"button\" \r\n                  onClick={handleForgotPassword}\r\n                  className=\"text-[10px] font-black text-slate-900 hover:underline uppercase tracking-tighter transition-all\"\r\n                  disabled={resetLoading}\r\n                >\r\n                  {resetLoading ? \"Sending...\" : \"Recover Key?\"}\r\n                </button>\r\n              </div>\r\n              <div className=\"relative\">\r\n                <Lock className=\"absolute left-4 top-1/2 -translate-y-1/2 size-5 text-zinc-400\" />\r\n                <Input \r\n                  type=\"password\" \r\n                  placeholder=\"••••••••\" \r\n                  className=\"pl-12 h-14 rounded-2xl bg-zinc-50 border-none focus-visible:ring-2 ring-slate-900 transition-all text-base\" \r\n                  value={password}\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {error && (\r\n              <div className=\"bg-rose-50 border border-rose-100 text-rose-600 p-4 rounded-2xl flex items-start gap-3 animate-in fade-in zoom-in duration-300\">\r\n                <AlertCircle className=\"size-5 mt-0.5 shrink-0\" />\r\n                <p className=\"text-xs font-bold leading-relaxed\">{error}</p>\r\n              </div>\r\n            )}\r\n\r\n            <Button \r\n              type=\"submit\" \r\n              className=\"w-full h-16 rounded-2xl bg-slate-900 text-white font-black text-xl shadow-xl shadow-slate-200 mt-4 active:scale-95 transition-all\"\r\n              disabled={loading}\r\n            >\r\n              {loading ? (\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Loader2 className=\"animate-spin size-5\" />\r\n                  <span>Verifying...</span>\r\n                </div>\r\n              ) : (\r\n                \"Verify & Enter\"\r\n              )}\r\n            </Button>\r\n          </form>\r\n\r\n          <div className=\"mt-8 text-center\">\r\n            <p className=\"text-[10px] text-zinc-400 font-black uppercase tracking-[0.3em]\">\r\n              Authorized Personnel Only\r\n            </p>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7584, "column": 0}, "map": {"version":3,"sources":["file:///E:/Project/Educational%20Platform%20Design/my-lms-project/src/app/components/StudentLogin.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { supabase } from \"@/lib/supabase\";\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"./ui/card\";\r\nimport { Button } from \"./ui/button\";\r\nimport { Input } from \"./ui/input\";\r\nimport { Label } from \"./ui/label\";\r\nimport { GraduationCap, Lock, Mail, ChevronLeft, Loader2 } from \"lucide-react\";\r\n\r\nexport function StudentLogin({ onNavigate }: { onNavigate: (page: string) => void }) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [resetLoading, setResetLoading] = useState(false);\r\n\r\n  // --- LOGIN LOGIC ---\r\n  async function handleLogin(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    try {\r\n      // 1. Authenticate with Supabase Auth\r\n      const { data, error } = await supabase.auth.signInWithPassword({\r\n        email: email.trim(),\r\n        password,\r\n      });\r\n\r\n      if (error) throw error;\r\n\r\n      // 2. Fetch user profile to verify role\r\n      const { data: profile, error: profileError } = await supabase\r\n        .from('profiles')\r\n        .select('role')\r\n        .eq('id', data.user.id)\r\n        .single();\r\n\r\n      if (profileError || profile?.role !== 'student') {\r\n        // If not a student, log them out immediately\r\n        await supabase.auth.signOut();\r\n        alert(\"Access Denied: This portal is reserved for registered students only.\");\r\n        return;\r\n      }\r\n\r\n      // 3. Success: Navigate to the student dashboard\r\n      onNavigate('student-dashboard');\r\n      \r\n    } catch (error: any) {\r\n      alert(\"Login Error: \" + error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  // --- FORGOT PASSWORD LOGIC ---\r\n  async function handleForgotPassword() {\r\n    if (!email) {\r\n      alert(\"Please enter your email address first so we can send a reset link.\");\r\n      return;\r\n    }\r\n    \r\n    setResetLoading(true);\r\n    try {\r\n      const { error } = await supabase.auth.resetPasswordForEmail(email, {\r\n        redirectTo: `${window.location.origin}/#type=recovery`,\r\n      });\r\n\r\n      if (error) throw error;\r\n      alert(\"Verification email sent! Please check your inbox to reset your password.\");\r\n      \r\n    } catch (error: any) {\r\n      alert(\"Error: \" + error.message);\r\n    } finally {\r\n      setResetLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#F8FAFC] dark:bg-zinc-950 flex flex-col items-center justify-center p-6 relative\">\r\n      {/* Back to Homepage Link */}\r\n      <Button \r\n        variant=\"ghost\" \r\n        className=\"absolute top-8 left-8 gap-2 font-bold text-zinc-500 hover:text-primary transition-colors\"\r\n        onClick={() => onNavigate('home')}\r\n      >\r\n        <ChevronLeft size={18} /> Back to Homepage\r\n      </Button>\r\n\r\n      <Card className=\"w-full max-w-md border-none shadow-2xl rounded-[2.5rem] overflow-hidden bg-white dark:bg-zinc-900\">\r\n        {/* Decorative Top Bar */}\r\n        <div className=\"h-3 bg-primary w-full\" />\r\n        \r\n        <CardHeader className=\"pt-10 pb-6 text-center\">\r\n          <div className=\"size-20 bg-primary/10 rounded-[1.5rem] flex items-center justify-center mx-auto mb-6\">\r\n            <GraduationCap className=\"size-12 text-primary\" />\r\n          </div>\r\n          <CardTitle className=\"text-4xl font-black tracking-tighter uppercase italic text-zinc-900 dark:text-white\">\r\n            Student Login\r\n          </CardTitle>\r\n          <CardDescription className=\"text-zinc-500 font-medium text-lg mt-2\">\r\n            Access your recordings and materials.\r\n          </CardDescription>\r\n        </CardHeader>\r\n\r\n        <CardContent className=\"space-y-6 pb-12 px-10\">\r\n          <form onSubmit={handleLogin} className=\"space-y-5\">\r\n            {/* Email Field */}\r\n            <div className=\"space-y-2\">\r\n              <Label className=\"text-[11px] font-black uppercase tracking-widest ml-1 text-zinc-400\">\r\n                Registered Email\r\n              </Label>\r\n              <div className=\"relative\">\r\n                <Mail className=\"absolute left-4 top-1/2 -translate-y-1/2 size-5 text-zinc-400\" />\r\n                <Input \r\n                  type=\"email\" \r\n                  placeholder=\"student@example.com\" \r\n                  className=\"pl-12 h-14 rounded-2xl bg-zinc-50 dark:bg-zinc-800 border-none focus-visible:ring-2 ring-primary transition-all text-base\" \r\n                  value={email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Password Field */}\r\n            <div className=\"space-y-2\">\r\n              <div className=\"flex justify-between items-center px-1\">\r\n                <Label className=\"text-[11px] font-black uppercase tracking-widest text-zinc-400\">\r\n                  Password\r\n                </Label>\r\n                <button \r\n                  type=\"button\" \r\n                  onClick={handleForgotPassword}\r\n                  className=\"text-[10px] font-black text-primary hover:underline uppercase tracking-tighter transition-all\"\r\n                  disabled={resetLoading}\r\n                >\r\n                  {resetLoading ? \"Processing...\" : \"Forgot Key?\"}\r\n                </button>\r\n              </div>\r\n              <div className=\"relative\">\r\n                <Lock className=\"absolute left-4 top-1/2 -translate-y-1/2 size-5 text-zinc-400\" />\r\n                <Input \r\n                  type=\"password\" \r\n                  placeholder=\"••••••••\" \r\n                  className=\"pl-12 h-14 rounded-2xl bg-zinc-50 dark:bg-zinc-800 border-none focus-visible:ring-2 ring-primary transition-all text-base\" \r\n                  value={password}\r\n                  onChange={(e) => setPassword(e.target.value)}\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Login Button */}\r\n            <Button \r\n              type=\"submit\" \r\n              className=\"w-full h-15 rounded-2xl font-black text-xl shadow-xl shadow-primary/20 mt-6 active:scale-95 transition-transform\"\r\n              disabled={loading}\r\n            >\r\n              {loading ? (\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Loader2 className=\"animate-spin size-5\" />\r\n                  <span>Verifying...</span>\r\n                </div>\r\n              ) : (\r\n                \"Enter Dashboard\"\r\n              )}\r\n            </Button>\r\n          </form>\r\n\r\n          {/* Registration Hint */}\r\n          <div className=\"text-center pt-4 border-t border-zinc-100 dark:border-zinc-800\">\r\n            <p className=\"text-xs text-zinc-400 font-medium\">\r\n              Don't have an account yet? <br/>\r\n              <span className=\"text-primary font-bold\">Contact the Administrator to get registered.</span>\r\n            </p>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n      \r\n      {/* Footer Branding */}\r\n      <div className=\"mt-12 flex flex-col items-center gap-2\">\r\n        <p className=\"text-[10px] text-zinc-400 font-black uppercase tracking-[0.3em]\">\r\n          Secure Access Protocol v2.5\r\n        </p>\r\n        <p className=\"text-[9px] text-zinc-300 uppercase font-bold\">© 2025 Education Platform Design</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7964, "column": 0}, "map": {"version":3,"sources":["file:///E:/Project/Educational%20Platform%20Design/my-lms-project/src/app/components/ResetPassword.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { supabase } from \"@/lib/supabase\";\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"./ui/card\";\r\nimport { Button } from \"./ui/button\";\r\nimport { Input } from \"./ui/input\";\r\nimport { Label } from \"./ui/label\";\r\nimport { Lock, Loader2, CheckCircle2, ShieldAlert } from \"lucide-react\";\r\n\r\nexport function ResetPassword({ onNavigate }: { onNavigate: (page: string) => void }) {\r\n  const [newPassword, setNewPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n  const [verifying, setVerifying] = useState(true);\r\n  const [sessionValid, setSessionValid] = useState(false);\r\n\r\n  // --- CRITICAL FIX: Robust session detection ---\r\n  useEffect(() => {\r\n    let mounted = true;\r\n\r\n    async function verifyRecovery() {\r\n      // 1. Brief delay to allow the URL hash to be parsed by the client\r\n      await new Promise(resolve => setTimeout(resolve, 1000)); \r\n      \r\n      const { data: { session } } = await supabase.auth.getSession();\r\n\r\n      if (mounted) {\r\n        // Check if session exists OR if the URL hash explicitly mentions recovery\r\n        const isRecoveryHash = window.location.hash.includes(\"type=recovery\");\r\n        \r\n        if (session || isRecoveryHash) {\r\n          setSessionValid(true);\r\n        } else {\r\n          setSessionValid(false);\r\n        }\r\n        setVerifying(false);\r\n      }\r\n    }\r\n\r\n    verifyRecovery();\r\n\r\n    // 2. Listen for the specific recovery event in real-time\r\n    const { data: { subscription } } = supabase.auth.onAuthStateChange((event) => {\r\n      if (event === \"PASSWORD_RECOVERY\") {\r\n        setSessionValid(true);\r\n        setVerifying(false);\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      mounted = false;\r\n      subscription.unsubscribe();\r\n    };\r\n  }, []);\r\n\r\n  async function handleReset(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    \r\n    if (newPassword.length < 6) {\r\n      return alert(\"Security requirement: Password must be at least 6 characters.\");\r\n    }\r\n\r\n    if (newPassword !== confirmPassword) {\r\n      return alert(\"Validation failed: Passwords do not match!\");\r\n    }\r\n    \r\n    setLoading(true);\r\n\r\n    try {\r\n      // This function strictly requires the active recovery session\r\n      const { error } = await supabase.auth.updateUser({\r\n        password: newPassword\r\n      });\r\n\r\n      if (error) throw error;\r\n\r\n      setSuccess(true);\r\n      // Wait for user to read success message then redirect\r\n      setTimeout(() => onNavigate('home'), 3000); \r\n    } catch (error: any) {\r\n      alert(\"System Error: \" + error.message + \" (Please try requesting a new link from the login page)\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  // State 1: Verifying the link validity\r\n  if (verifying) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-zinc-50 p-6\">\r\n        <div className=\"flex flex-col items-center gap-4 text-center\">\r\n          <Loader2 className=\"animate-spin size-12 text-primary opacity-20\" />\r\n          <p className=\"font-black uppercase tracking-[0.2em] text-[10px] text-zinc-400 italic animate-pulse\">\r\n            Authenticating Security Token...\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // State 2: Invalid or expired session\r\n  if (!sessionValid && !success) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-zinc-50 p-6\">\r\n        <Card className=\"max-w-md w-full text-center p-12 rounded-[3rem] shadow-2xl border-none\">\r\n          <ShieldAlert className=\"size-20 text-rose-500 mx-auto mb-6 opacity-80\" />\r\n          <CardTitle className=\"text-3xl font-black uppercase tracking-tight italic\">Link Expired</CardTitle>\r\n          <CardDescription className=\"mt-4 font-medium text-zinc-500 leading-relaxed\">\r\n            The security token has either been used or timed out. For your security, reset links are single-use.\r\n          </CardDescription>\r\n          <Button className=\"mt-10 w-full rounded-2xl h-16 font-black uppercase tracking-widest text-xs shadow-lg\" onClick={() => onNavigate('student')}>\r\n            Request New Link\r\n          </Button>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // State 3: Password Update Successful\r\n  if (success) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-zinc-50 p-6\">\r\n        <Card className=\"max-w-md w-full text-center p-12 rounded-[3rem] shadow-2xl border-none\">\r\n          <div className=\"size-24 bg-emerald-50 rounded-[2rem] flex items-center justify-center mx-auto mb-8\">\r\n            <CheckCircle2 className=\"size-14 text-emerald-500\" />\r\n          </div>\r\n          <CardTitle className=\"text-4xl font-black uppercase italic tracking-tighter\">Access Restored</CardTitle>\r\n          <p className=\"text-zinc-500 font-bold mt-4 leading-relaxed uppercase text-[10px] tracking-widest\">\r\n            Your credentials have been updated. <br/> Initializing portal redirection...\r\n          </p>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // State 4: Reset Form\r\n  return (\r\n    <div className=\"min-h-screen bg-zinc-50 flex items-center justify-center p-6\">\r\n      <Card className=\"w-full max-w-md rounded-[3rem] shadow-2xl border-none bg-white overflow-hidden\">\r\n        <div className=\"h-4 bg-primary w-full\" />\r\n        <CardHeader className=\"pt-14 px-12 text-center\">\r\n          <div className=\"size-20 bg-zinc-50 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-inner\">\r\n            <Lock className=\"text-primary size-10\" />\r\n          </div>\r\n          <CardTitle className=\"text-4xl font-black tracking-tighter uppercase italic text-zinc-900 leading-none\">\r\n            Secure Portal\r\n          </CardTitle>\r\n          <CardDescription className=\"text-zinc-400 font-bold uppercase text-[9px] tracking-[0.3em] mt-4 italic\">\r\n            Define your new access key\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"px-12 pb-16\">\r\n          <form onSubmit={handleReset} className=\"space-y-6\">\r\n            <div className=\"space-y-2\">\r\n              <Label className=\"text-[10px] font-black uppercase tracking-widest ml-1 text-zinc-400\">New Password</Label>\r\n              <Input \r\n                type=\"password\" \r\n                placeholder=\"••••••••\"\r\n                value={newPassword} \r\n                onChange={(e) => setNewPassword(e.target.value)} \r\n                className=\"h-16 rounded-[1.25rem] bg-zinc-50 border-none px-6 focus-visible:ring-2 ring-primary transition-all text-lg\"\r\n                required \r\n                minLength={6}\r\n              />\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <Label className=\"text-[10px] font-black uppercase tracking-widest ml-1 text-zinc-400\">Verify Password</Label>\r\n              <Input \r\n                type=\"password\" \r\n                placeholder=\"••••••••\"\r\n                value={confirmPassword} \r\n                onChange={(e) => setConfirmPassword(e.target.value)} \r\n                className=\"h-16 rounded-[1.25rem] bg-zinc-50 border-none px-6 focus-visible:ring-2 ring-primary transition-all text-lg\"\r\n                required \r\n              />\r\n            </div>\r\n            <Button \r\n              type=\"submit\" \r\n              className=\"w-full h-16 rounded-[1.25rem] font-black text-xl shadow-xl shadow-primary/20 mt-6 active:scale-[0.98] transition-all bg-primary text-white\" \r\n              disabled={loading}\r\n            >\r\n              {loading ? (\r\n                <div className=\"flex items-center gap-3\">\r\n                  <Loader2 className=\"animate-spin size-6\" />\r\n                  <span className=\"uppercase text-xs tracking-widest\">Applying...</span>\r\n                </div>\r\n              ) : (\r\n                \"Update Access\"\r\n              )}\r\n            </Button>\r\n          </form>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 8369, "column": 0}, "map": {"version":3,"sources":["file:///E:/Project/Educational%20Platform%20Design/my-lms-project/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { supabase } from \"@/lib/supabase\";\n\n// Relative imports\nimport { PublicHomepage } from \"./components/PublicHomepage\";\nimport { StudentDashboard } from \"./components/StudentDashboard\";\nimport { AdminDashboard } from \"./components/AdminDashboard\";\nimport { AdminLogin } from \"./components/AdminLogin\";\nimport { StudentLogin } from \"./components/StudentLogin\";\nimport { ResetPassword } from \"./components/ResetPassword\";\n\nexport default function Home() {\n  // Navigation State\n  const [currentPage, setCurrentPage] = useState('home');\n\n  // --- GLOBAL AUTH & RECOVERY DETECTOR ---\n  useEffect(() => {\n    // 1. Immediate check for the recovery hash in URL on page load\n    if (window.location.hash.includes(\"type=recovery\")) {\n      setCurrentPage(\"reset-password\");\n    }\n\n    // 2. Listen for Supabase Auth Events (The most reliable method)\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(async (event, session) => {\n      // If Supabase detects a recovery link, immediately switch to the reset page\n      if (event === \"PASSWORD_RECOVERY\") {\n        setCurrentPage(\"reset-password\");\n      }\n    });\n\n    // Cleanup subscription on unmount\n    return () => {\n      subscription.unsubscribe();\n    };\n  }, []); // Run only once on mount\n\n  // Navigation handler\n  const handleNavigation = (page: string) => {\n    setCurrentPage(page);\n    window.scrollTo(0, 0);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background text-foreground\">\n      {/* 1. Public Landing Page */}\n      {currentPage === 'home' && (\n        <PublicHomepage onNavigate={handleNavigation} />\n      )}\n      \n      {/* 2. Student Login Page */}\n      {currentPage === 'student' && (\n        <StudentLogin onNavigate={handleNavigation} />\n      )}\n\n      {/* 3. Password Reset Page */}\n      {currentPage === 'reset-password' && (\n        <ResetPassword onNavigate={handleNavigation} />\n      )}\n\n      {/* 4. Admin Login Gateway */}\n      {currentPage === 'admin-login' && (\n        <AdminLogin onNavigate={handleNavigation} />\n      )}\n      \n      {/* 5. Student Private Dashboard */}\n      {currentPage === 'student-dashboard' && (\n        <StudentDashboard onNavigate={handleNavigation} />\n      )}\n      \n      {/* 6. Admin Private Console */}\n      {currentPage === 'admin' && (\n        <AdminDashboard onNavigate={handleNavigation} />\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AAXA;;;;;;;;;;AAae,SAAS;IACtB,mBAAmB;IACnB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yOAAQ,EAAC;IAE/C,0CAA0C;IAC1C,IAAA,0OAAS,EAAC;QACR,+DAA+D;QAC/D,IAAI,OAAO,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,kBAAkB;YAClD,eAAe;QACjB;QAEA,gEAAgE;QAChE,MAAM,EAAE,MAAM,EAAE,YAAY,EAAE,EAAE,GAAG,0JAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,OAAO,OAAO;YAC/E,4EAA4E;YAC5E,IAAI,UAAU,qBAAqB;gBACjC,eAAe;YACjB;QACF;QAEA,kCAAkC;QAClC,OAAO;YACL,aAAa,WAAW;QAC1B;IACF,GAAG,EAAE,GAAG,yBAAyB;IAEjC,qBAAqB;IACrB,MAAM,mBAAmB,CAAC;QACxB,eAAe;QACf,OAAO,QAAQ,CAAC,GAAG;IACrB;IAEA,qBACE,sQAAC;QAAI,WAAU;;YAEZ,gBAAgB,wBACf,sQAAC,qLAAc;gBAAC,YAAY;;;;;;YAI7B,gBAAgB,2BACf,sQAAC,iLAAY;gBAAC,YAAY;;;;;;YAI3B,gBAAgB,kCACf,sQAAC,mLAAa;gBAAC,YAAY;;;;;;YAI5B,gBAAgB,+BACf,sQAAC,6KAAU;gBAAC,YAAY;;;;;;YAIzB,gBAAgB,qCACf,sQAAC,yLAAgB;gBAAC,YAAY;;;;;;YAI/B,gBAAgB,yBACf,sQAAC,qLAAc;gBAAC,YAAY;;;;;;;;;;;;AAIpC"}}]
}